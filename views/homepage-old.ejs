<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PubMatcher</title>
    <!-- Tailwind CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="/js/scripts.js" defer></script> <!-- Chemin du fichier JS -->

</head>


<body class="bg-gray-100 font-sans leading-normal tracking-normal flex flex-col space-y-4 min-h-screen">

    <!-- Header -->
    <header class="bg-gray-800 py-4">
        <div class="flex justify-between px-4 items-center">
            <div class="flex items-baseline space-x-2">
                <h1 class="text-5xl font-bold text-white">PubMatcher</h1>
                <h1 class="text-sm font-bold text-white">2.0</h1>
            </div>
            <nav>
                <a href="#" class="text-white hover:text-blue-200 mx-2">Home</a>
                <a href="#" class="text-white hover:text-blue-200 mx-2">About</a>
                <a href="#" class="text-white hover:text-blue-200 mx-2">Contact</a>
            </nav>
        </div>
    </header>
    

    <!-- Main Content -->
    <main class="container mx-auto my-10 p-5 bg-white rounded-lg shadow-sm flex-grow flex-col">
        
        <!-- Search divider -->
        <span class="relative flex justify-center mb-20">
            <div class="absolute inset-x-0 top-1/2 h-px -translate-y-1/2 bg-transparent bg-gradient-to-r from-transparent via-gray-500 to-transparent opacity-75"></div>
            <span class="relative z-10 bg-white px-6 font-bold font-nono text-gray-700 text-5xl ">SEARCH ENGINE</span>
        </span>     
        <!-- SEARCH CONTAINER -->
        <div class="flex items-center justify-center border-l border-r  border-gray-300 "></divclass>
            <!-- Extractor Container -->
            <div class="flex-row flex-grow overflow-hidden border-green-500"> 
                <!-- GENE EXTRACTION TITLE -->
                <div class="flex flex-row items-center mt-2 border-blue-600">
                    <label for="batchInput" class="block  text-3xl ml-16  font-mono font-bold text-gray-700 "> EXTRACT FROM TEXT </label>
                    <!-- TOOLTIP CONT -->
                    <div class="group flex z-10 relative ml-3">
                        <button class="text-gray-600 transition-colors duration-200 focus:outline-none dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" />   
                            </svg>
                        </button>
                        <!-- Tooltip -->
                        <span class="group-hover:opacity-100 transition-opacity duration-300 bg-gray-700 text-white text-1xl font-mono italic font-medium rounded-lg px-3 py-2 shadow-lg ml-4 absolute left-1/2 -translate-x-1/2 translate-y-full opacity-0 mt-2 whitespace-nowrap">
                            Extract genes from raw text, file or URL.
                        </span>
                    </div>
                </div>
                <div class="flex items-center  mx-10  border-red-600">   
                    <!-- TEXT AREA INPUT -->
                    <div class="relative w-full overflow-auto h-56">
                        <textarea id="message" rows="4" class="block p-2.5 pb-12 w-full h-full resize-none text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Paste your genes here..."></textarea>
                    
                        <div class="absolute bottom-2 right-4 flex space-x-2">
                            <button id="submitTextArea" class="flex items-center px-4 py-2 bg-blue-700 hover:bg-blue-600 text-white font-medium rounded-md space-x-2">
                                <svg class="w-6 h-6 text-white dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M9.586 2.586A2 2 0 0 1 11 2h2a2 2 0 0 1 2 2v.089l.473.196.063-.063a2.002 2.002 0 0 1 2.828 0l1.414 1.414a2 2 0 0 1 0 2.827l-.063.064.196.473H20a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-.089l-.196.473.063.063a2.002 2.002 0 0 1 0 2.828l-1.414 1.414a2 2 0 0 1-2.828 0l-.063-.063-.473.196V20a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-.089l-.473-.196-.063.063a2.002 2.002 0 0 1-2.828 0l-1.414-1.414a2 2 0 0 1 0-2.827l.063-.064L4.089 15H4a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h.09l.195-.473-.063-.063a2 2 0 0 1 0-2.828l1.414-1.414a2 2 0 0 1 2.827 0l.064.063L9 4.089V4a2 2 0 0 1 .586-1.414ZM8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z" clip-rule="evenodd"/>
                                </svg>
                                <span>Extract Genes</span>
                            </button>
                            <button id="clearTextArea" type="button" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-md">
                                Clear
                            </button>
                        </div>
                    </div>
                    
                    <!-- DRAG FILE ZONE -->
                    <div>
                        <label for="dropzone-file" class="flex flex-col items-center justify-center h-56 mb-3 ml-3 max-w-lg  mt-2 mr-2 text-center bg-gray-50 border-2 border-gray-300 border-dashed cursor-pointer dark:bg-gray-900 dark:border-gray-700 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-gray-500 dark:text-gray-400">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z" />
                            </svg>
                    
                            <h2 class="mt-1 font-medium tracking-wide text-gray-700 dark:text-gray-200">Drop File Here</h2>
                    
                            <p class="mt-2 text-xs tracking-wide text-gray-500 dark:text-gray-400">Upload or drag & drop your file TXT, CSV or XML. </p>
                    
                            <input id="dropzone-file" type="file" class="hidden" />
                        </label>
                    </div>
                </div>
                <!-- EXTRACT BUTTON -->
                <div class="flex flex-col items-center w-full">
                    <div class="w-full h-px bg-gray-300"></div>
                </div>
                
                <!-- BOTTOM SEARCH -->
                <div class="flex justify-center space-x-4 h-96 border-yellow-600 p-4">
                    <!-- GENE MANUAL -->
                    <!-- GENES -->
                    <div class="flex flex-col items-center w-7/12 space-y-4 rounded min-h-72 overflow-auto border-gray-600  p-4">
                        <form class="w-full max-w-md">
                            <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
                            <div class="relative">
                                <!-- Search logo -->
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                    <svg class="w-5 h-5 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                                    </svg>
                                </div>
                                
                                <!-- Search input -->
                                <input type="search" id="geneInput" class="block w-full p-4 pl-10 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 focus:outline-none" placeholder="Add Genes..." oninput="showSuggestions('gene')" autocomplete="off" required />
                                
                                <!-- Search button -->
                                <button id= "addGeneButton" type="button" class="text-white absolute right-2 bottom-2 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                                    <p class="text-white">Add</p>
                                </button>
                        
                                <!-- Suggestion dropdown -->
                                <ul id="geneSuggestions" class="absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10 top-full">
                                    <!-- Suggestions will be dynamically generated here -->
                                </ul>
                            </div>
                        </form>
                        <!-- GENES PLACEHOLDERS -->
                        <div class="flex flex-wrap gap-2 p-4 gene-items">
                            <!-- GENES POPULATE HERE -->
                        </div>
                    </div>

                    <div class="flex items-center space-x-4">
                        <div class="w-px h-full bg-gray-300"></div>
                    </div>
                    
                    <!-- ADD PHENOTYPES -->
                    <div class="flex flex-col items-center w-96 space-y-4  border-red-600 p-4">
                        <!-- Form for Adding Phenotypes -->
                        <form class="w-full max-w-md">
                            <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
                            <div class="relative">
                                <!-- Search logo -->
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                    <svg class="w-5 h-5 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                                    </svg>
                                </div>
                                
                                <!-- Search input -->
                                <input type="search" id="phenotypeInput" class="block w-full p-4 pl-10 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 focus:outline-none" placeholder="Add phenotypes..." oninput="showSuggestions('phenotype')" autocomplete="off" required />
                                <!-- Search button -->
                                <button type="button" id="addPhenotypeButton" onclick="event.preventDefault(); addPhenotype(document.getElementById('phenotypeInput').value)" class="text-white absolute right-2 bottom-2 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                                    <p class="text-white">Add</p>
                                </button>
                                <ul id="phenotypeSuggestions" class="absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10 top-full">
                                    
                                    
                                    <!-- Suggestion dropdown -->
                                    <ul id="suggestions" class="absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10">
                                        <!-- Suggestions will be dynamically generated here -->
                                    </ul>
                                    
                            </div>
                        </form>
                
                        <!-- Conteneur pour les phÃ©notypes -->
                        <div class="flex flex-wrap overflow-auto gap-2 p-4 phenotype-items">

                        </div>
                        
                        
                    </div>
                </div>
                </div>
            </div>
            <div class="flex mt-2 justify-center">
                <button type="button" id="researchButton" class="text-white justify-center bg-blue-700 hover:bg-blue-800 w-full focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 h-24 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                    <svg  class="loader w-12 h-12  text-white dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.737 8.737a21.49 21.49 0 0 1 3.308-2.724m0 0c3.063-2.026 5.99-2.641 7.331-1.3 1.827 1.828.026 6.591-4.023 10.64-4.049 4.049-8.812 5.85-10.64 4.023-1.33-1.33-.736-4.218 1.249-7.253m6.083-6.11c-3.063-2.026-5.99-2.641-7.331-1.3-1.827 1.828-.026 6.591 4.023 10.64m3.308-9.34a21.497 21.497 0 0 1 3.308 2.724m2.775 3.386c1.985 3.035 2.579 5.923 1.248 7.253-1.336 1.337-4.245.732-7.295-1.275M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/>
                    </svg>
                    <p class="text-white text-3xl genes-count">RESEARCH 0 GENES</p>
                    <div role="status" class="flex items-center">
                        <svg class="loader w-12 h-12 text-white dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.737 8.737a21.49 21.49 0 0 1 3.308-2.724m0 0c3.063-2.026 5.99-2.641 7.331-1.3 1.827 1.828.026 6.591-4.023 10.64-4.049 4.049-8.812 5.85-10.64 4.023-1.33-1.33-.736-4.218 1.249-7.253m6.083-6.11c-3.063-2.026-5.99-2.641-7.331-1.3-1.827 1.828-.026 6.591 4.023 10.64m3.308-9.34a21.497 21.497 0 0 1 3.308 2.724m2.775 3.386c1.985 3.035 2.579 5.923 1.248 7.253-1.336 1.337-4.245.732-7.295-1.275M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/>
                        </svg>
                        <span class="sr-only">Loading...</span>
                    </div>

                    
                    
                </button>
            </div>
        </div>
        
    </main>
    <main id="searchResults" class=" hidden container mx-auto my-10  w-full  border-red-500 bg-transparent rounded-lg  flex-grow flex-col">
        <div class="flex justify-center">
            <h2 class="text-bold text-3xl font-mono font-bold text-gray-700">RESULTS</h2>
        </div>
        <div class="block">
            <div class="relative overflow-visible shadow-md sm:rounded-lg">
                <table id="resultsTable" class="w-full text-sm text-left rtl:text-right text-gray-500 border border-gray-400 rounded-3xl dark:text-gray-400">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700  dark:text-gray-400">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-center ">
                                GENE
                            </th>
                            <th scope="col" class="px-6 py-3">
                                <div class="flex items-center">
                                    PubMed Article
                                    <a href="#"><svg class="w-3 h-3 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                                    </svg></a>
                                </div>
                            </th>
                            <th scope="col" class="px-6 py-3 ">
                                <div class="flex items-center">
                                    FUNCTION
                                    <a href="#"><svg class="w-3 h-3 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                                    </svg></a>
                                </div>
                            </th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap  border-red-500">
                                <div class="flex items-center">
                                    PHENOTYPE KO
                                    <a href="#"><svg class="w-3 h-3 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                                    </svg></a>
                                </div>
                            </th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap">
                                <div class="flex items-center">
                                    PANEL APP
                                    <a href="#"><svg class="w-3 h-3 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                                    </svg></a>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        
                    </tbody>
                </table>
            </div>
        </div>
    </main>    


    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-200 py-4">
        <div class="container mx-auto text-center">
            <p>&copy; 2024 PubMatcher. All rights reserved.</p>
            <p class="text-sm">Made by Victor Marin</p>
        </div>
    </footer>
</body>
<style>
    /* Increase placeholder text size */
    .placeholder-large::placeholder {
        font-size: 2rem; /* 20px, for example */
    }
</style>
</html>
