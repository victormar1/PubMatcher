(()=>{"use strict";var e={112:(e,t,r)=>{var o=r(751),a=r(641);const s={id:"app",class:"flex flex-col min-h-screen font-noto dark:bg-gray-600"},l={class:"flex-grow"};function n(e,t,r,o,n,i){const d=(0,a.g2)("AppHeader"),c=(0,a.g2)("Announcement"),u=(0,a.g2)("PatchNote"),g=(0,a.g2)("router-view"),p=(0,a.g2)("AppFooter");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(d),(0,a.bF)(c),(0,a.bF)(u),(0,a.Lk)("main",l,[(0,a.bF)(g)]),(0,a.bF)(p)])}var i=r(33);const d={class:"bg-gray-800 py-4 shadow-md min-w-screen font-noto"},c={class:"flex justify-between px-4 items-center"},u={class:"flex items-center"},g={class:"flex space-x-4 text-nowrap pl-4"},p={key:0},h={key:1,class:"relative group"};function m(e,t,r,o,s,l){const n=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("header",d,[(0,a.Lk)("div",c,[(0,a.Lk)("div",u,[(0,a.bF)(n,{to:"/",class:"flex items-center"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.Lk)("img",{class:"max-h-12 w-auto object-cover",src:"images/pmlogo.svg",alt:"PubMatcher Logo"},null,-1),(0,a.Lk)("div",{class:"flex flex-row items-baseline space-x-1"},[(0,a.Lk)("h1",{class:"text-5xl font-bold text-white"},"PUBMatcher")],-1),(0,a.Lk)("div",{class:"w-24 h-10 justify-end items-end flex"},[(0,a.Lk)("svg",{width:"50",height:"20",viewBox:"0 0 350 163",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,a.Lk)("path",{d:"M0 81.0262C0 36.2767 36.2767 0 81.0262 0H268.099C312.848 0 349.125 36.2767 349.125 81.0262C349.125 125.776 312.848 162.052 268.099 162.052H81.0262C36.2767 162.052 0 125.776 0 81.0262Z",fill:"url(#paint0_linear_0_1)"}),(0,a.Lk)("path",{d:"M237.058 115.825C232.641 115.825 229.869 113.241 229.869 109.153C229.869 107.978 230.198 106.381 230.809 104.642L249.322 54.2243C251.295 48.7268 254.632 46.1895 259.988 46.1895C265.533 46.1895 268.822 48.6328 270.842 54.1773L289.449 104.642C290.107 106.475 290.342 107.743 290.342 109.153C290.342 113.053 287.382 115.825 283.247 115.825C279.253 115.825 277.139 113.993 275.87 109.576L272.299 98.8626H247.818L244.247 109.435C242.932 113.946 240.817 115.825 237.058 115.825ZM250.92 87.8675H269.01L260.035 60.0978H259.706L250.92 87.8675Z",fill:"url(#paint1_linear_0_1)"}),(0,a.Lk)("path",{d:"M204.295 115.825C199.831 115.825 197.199 113.1 197.199 108.448V58.8758H183.197C179.344 58.8758 176.76 56.6674 176.76 53.0024C176.76 49.3373 179.297 47.1289 183.197 47.1289H225.439C229.292 47.1289 231.829 49.3373 231.829 53.0024C231.829 56.6674 229.245 58.8758 225.439 58.8758H211.39V108.448C211.39 113.1 208.758 115.825 204.295 115.825Z",fill:"url(#paint2_linear_0_1)"}),(0,a.Lk)("path",{d:"M130.027 114.932C125.563 114.932 122.932 112.207 122.932 107.508V54.506C122.932 49.8542 125.563 47.1289 130.027 47.1289H162.26C166.16 47.1289 168.698 49.3373 168.698 53.0024C168.698 56.6674 166.113 58.8758 162.26 58.8758H137.122V75.1805H161.039C164.563 75.1805 166.959 77.248 166.959 80.6311C166.959 84.0142 164.61 86.0816 161.039 86.0816H137.122V103.185H162.26C166.113 103.185 168.698 105.394 168.698 109.059C168.698 112.724 166.16 114.932 162.26 114.932H130.027Z",fill:"url(#paint3_linear_0_1)"}),(0,a.Lk)("path",{d:"M65.5854 114.932C61.1215 114.932 58.4902 112.207 58.4902 107.508V54.506C58.4902 49.8542 61.1215 47.1289 65.5854 47.1289H87.9985C100.732 47.1289 108.72 53.6602 108.72 64.0444C108.72 71.4685 103.175 77.6709 95.9863 78.7516V79.1275C105.196 79.8323 111.962 86.5515 111.962 95.5261C111.962 107.461 102.987 114.932 88.5153 114.932H65.5854ZM72.6805 75.3215H82.8768C90.4418 75.3215 94.7647 71.9853 94.7647 66.2529C94.7647 60.8023 90.9587 57.7011 84.3334 57.7011H72.6805V75.3215ZM72.6805 104.36H84.8973C93.0731 104.36 97.4899 100.883 97.4899 94.3984C97.4899 88.0551 92.9322 84.672 84.5684 84.672H72.6805V104.36Z",fill:"url(#paint4_linear_0_1)"}),(0,a.Lk)("defs",null,[(0,a.Lk)("linearGradient",{id:"paint0_linear_0_1",x1:"174.562",y1:"0",x2:"174.562",y2:"162.052",gradientUnits:"userSpaceOnUse"},[(0,a.Lk)("stop",{"stop-color":"white"}),(0,a.Lk)("stop",{offset:"1","stop-color":"#DDDDDD"})]),(0,a.Lk)("linearGradient",{id:"paint1_linear_0_1",x1:"173.14",y1:"23.3208",x2:"173.14",y2:"138.028",gradientUnits:"userSpaceOnUse"},[(0,a.Lk)("stop",{"stop-color":"#788B99"}),(0,a.Lk)("stop",{offset:"1","stop-color":"#526478"})]),(0,a.Lk)("linearGradient",{id:"paint2_linear_0_1",x1:"173.147",y1:"23.3205",x2:"173.147",y2:"138.027",gradientUnits:"userSpaceOnUse"},[(0,a.Lk)("stop",{"stop-color":"#788B99"}),(0,a.Lk)("stop",{offset:"1","stop-color":"#526478"})]),(0,a.Lk)("linearGradient",{id:"paint3_linear_0_1",x1:"173.141",y1:"23.3205",x2:"173.141",y2:"138.027",gradientUnits:"userSpaceOnUse"},[(0,a.Lk)("stop",{"stop-color":"#788B99"}),(0,a.Lk)("stop",{offset:"1","stop-color":"#526478"})]),(0,a.Lk)("linearGradient",{id:"paint4_linear_0_1",x1:"173.14",y1:"23.3205",x2:"173.14",y2:"138.027",gradientUnits:"userSpaceOnUse"},[(0,a.Lk)("stop",{"stop-color":"#788B99"}),(0,a.Lk)("stop",{offset:"1","stop-color":"#526478"})])])])],-1)]))),_:1})]),(0,a.Lk)("nav",g,[(0,a.bF)(n,{to:"/",class:"text-white hover:text-blue-200 mx-2"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("Home")]))),_:1}),(0,a.bF)(n,{to:"/about",class:"text-white hover:text-blue-200 mx-2"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("About")]))),_:1}),(0,a.bF)(n,{to:"/contact",class:"text-white hover:text-blue-200 mx-2"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("Contact")]))),_:1}),s.authState.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.bF)(n,{to:"/account",class:"text-white font-bold hover:text-blue-200 mx-2"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(s.authState.username),1)])),_:1})])):((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(n,{to:"/login",class:"text-white font-bold hover:text-blue-200 mx-2"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("Log In")]))),_:1})]))])])])}var f=r(953);const x=(0,f.Kh)({isAuthenticated:!!localStorage.getItem("token"),id:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).id:"",username:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).username:"",email:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).email:"",institute:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).institute:"",role:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).role:""});function y(e,t,r,o,a,s){x.isAuthenticated=!0,x.username=t,x.email=r,x.institute=o,x.role=a,localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify({id:e,username:t,email:r,institute:o,role:a}))}function b(){x.isAuthenticated=!1,x.username="",x.email="",x.institute="",x.role="",localStorage.removeItem("token"),localStorage.removeItem("user")}const k={data(){return{authState:x,logout:b}}};var w=r(262);const v=(0,w.A)(k,[["render",m]]),L=v,C={class:"bg-gray-800 shadow-md"},S={class:"flex flex-row text-white justify-between h-16 py-4 mx-4"},M={class:"flex items-center"},E={version:"1.0",xmlns:"http://www.w3.org/2000/svg",class:"h-full w-auto max-w-xs md:max-w-sm",style:{fill:"currentColor",color:"white"},viewBox:"0 0 198.000000 167.000000",preserveAspectRatio:"xMidYMid meet"},I={class:"flex items-center"},_={key:0,class:"fixed inset-0 bg-gray-700 bg-opacity-50 flex justify-center items-center"},A={class:"bg-white p-6 rounded-md w-96"},P={class:"block mb-2"},j={class:"block mb-4"},T={class:"flex justify-end space-x-4"};function D(e,t,r,s,l,n){return(0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("footer",S,[t[6]||(t[6]=(0,a.Lk)("div",null,[(0,a.Lk)("img",{class:"h-full w-auto max-w-xs md:max-w-sm pr-4",src:"images/logoCHU.jpg",alt:"Clinic Logo"})],-1)),(0,a.Lk)("div",M,[((0,a.uX)(),(0,a.CE)("svg",E,t[5]||(t[5]=[(0,a.Lk)("g",{transform:"translate(0.000000,167.000000) scale(0.050000,-0.050000)",fill:"currentColor",stroke:"none"},[(0,a.Lk)("path",{d:"..."})],-1)])))]),t[7]||(t[7]=(0,a.Lk)("div",{class:"container flex flex-col mx-auto text-center justify-center"},[(0,a.Lk)("p",null,"Â© 2024 PubMatcher. All rights reserved."),(0,a.Lk)("p",{class:"text-sm"},"Made by Victor Marin")],-1)),(0,a.Lk)("div",I,[(0,a.Lk)("button",{class:"bg-red-500 rounded-md px-4 py-2 text-nowrap font-bold",onClick:t[0]||(t[0]=(...e)=>n.openModal&&n.openModal(...e))}," REPORT A BUG ")])]),l.isModalOpen?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("div",A,[t[10]||(t[10]=(0,a.Lk)("h2",{class:"text-lg font-bold mb-4"},"Report a Bug",-1)),(0,a.Lk)("label",P,[t[8]||(t[8]=(0,a.eW)(" Your email: ")),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.bugReport.name=e),type:"text",class:"border p-2 w-full rounded"},null,512),[[o.Jo,l.bugReport.name]])]),(0,a.Lk)("label",j,[t[9]||(t[9]=(0,a.eW)(" Description: ")),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.bugReport.description=e),class:"border p-2 w-full rounded"},null,512),[[o.Jo,l.bugReport.description]])]),(0,a.Lk)("div",T,[(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.closeModal&&n.closeModal(...e)),class:"bg-gray-500 text-white rounded-md px-4 py-2"}," Cancel "),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.submitBugReport&&n.submitBugReport(...e)),class:"bg-blue-500 text-white rounded-md px-4 py-2"}," Submit ")])])])):(0,a.Q3)("",!0)])}var B=r(505),F=r.n(B);const V={data(){return{isModalOpen:!1,bugReport:{name:"",description:""},isDarkMode:!1}},mounted(){this.isDarkMode="dark"===localStorage.getItem("color-theme")||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches},methods:{openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},async submitBugReport(){try{await F().post("api/reportbug",this.bugReport);alert("Bug report submitted successfully!"),this.closeModal(),this.bugReport={name:"",description:""}}catch(e){console.error("Error submitting bug report:",e),alert("Failed to submit the bug report.")}},toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.isDarkMode?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light"))}}},O=(0,w.A)(V,[["render",D]]),R=O,G={class:"relative font-noto"},Z={key:0,class:"flex justify-center items-center h-full w-full"},X={key:1,class:"flex justify-center items-center h-full w-full"};function H(e,t,r,o,s,l){return(0,a.uX)(),(0,a.CE)("div",G,[(0,a.Lk)("div",{class:(0,i.C4)(["fixed  top-24 left-0  h-1/2  w-96 z-30 bg-gray-800 rounded-sm text-white shadow-lg transform transition-transform duration-500 ease-in-out",s.isDrawerOpen?"translate-x-0":"-translate-x-full"])},[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleDrawer&&l.toggleDrawer(...e)),class:"absolute top-1/2 -right-10 h-12 w-12 transform -translate-y-1/2 bg-gray-800 text-white rounded-md shadow-lg focus:outline-none"},[s.isDrawerOpen?((0,a.uX)(),(0,a.CE)("span",X,t[2]||(t[2]=[(0,a.Lk)("svg",{class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm7.707-3.707a1 1 0 0 0-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 1 0 1.414 1.414L12 13.414l2.293 2.293a1 1 0 0 0 1.414-1.414L13.414 12l2.293-2.293a1 1 0 0 0-1.414-1.414L12 10.586 9.707 8.293Z","clip-rule":"evenodd"})],-1)]))):((0,a.uX)(),(0,a.CE)("span",Z,t[1]||(t[1]=[(0,a.Lk)("svg",{class:"w-6 h-6 text-white-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11.5c.07 0 .14-.007.207-.021.095.014.193.021.293.021h2a2 2 0 0 0 2-2V7a1 1 0 0 0-1-1h-1a1 1 0 1 0 0 2v11h-2V5a2 2 0 0 0-2-2H5Zm7 4a1 1 0 0 1 1-1h.5a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h.5a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm-6 4a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1ZM7 6a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H7Zm1 3V8h1v1H8Z","clip-rule":"evenodd"})],-1)])))]),t[3]||(t[3]=(0,a.Fv)('<div class="p-4 flex flex-col items-center justify-start h-full"><div class="flex flex-row w-full px-2 justify-between"><h2 class="text-lg font-bold">ChangeLog</h2><h2 class="text-lg font-bold">2.1</h2></div><div class="h-0.5 w-full mt-1 bg-gray-100 w-fullfull"></div><p class="mt-10 text-xl font-medium">PubMatcher is evolving!</p><ul class="mt-4 list-disc list-inside text-sm space-y-1 text-gray-200"><li><span class="font-semibold underline">Clinvar LookUp:</span> Data regarding the known L/LPÂ¨and VUS variant are displayed with results </li><li><span class="font-semibold underline">BATCH INPUT:</span> Fix for the bug affecting on 03/12 &amp; Users can now blacklist genes (IMPACT,ADAR) </li><li><span class="font-semibold underline">USER ACCOUNTS:</span> Users can now <a href="/register" class="font-bold underline">register</a> and log in to access search history and upcomming features. </li><li><span class="font-semibold underline">ENHANCED DISPLAY:</span> A fresh new layout for an improved user experience. </li><li><span class="font-semibold underline">IMPROVED PERFORMANCE:</span> Faster load times and optimized search queries. </li><li><span class="font-semibold underline">BUG FIXES:</span> Tons of bug have been fixed, data is now more accurate. </li></ul></div>',1))],2)])}var U=r(73);const N={data(){return{isDrawerOpen:!1}},methods:{toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,(0,U.f0)("changelog_read",{event_category:"user_interaction",event_label:"changelog_read",debug_mode:!0})}}},z=(0,w.A)(N,[["render",H]]),J=z,$={key:0,id:"sticky-banner",tabindex:"-1",class:"z-50 flex justify-between w-full p-1 bg-red-500 dark:bg-gray-700 dark:border-gray-600"};function q(e,t,r,o,s,l){return s.bannerVisible?((0,a.uX)(),(0,a.CE)("div",$,t[0]||(t[0]=[(0,a.Fv)('<div class="flex items-center mx-auto"><p class="flex items-center text-sm font-normal text-white dark:text-gray-400"><span class="inline-flex p-1 me-3 bg-white rounded-full dark:bg-gray-600 size-4 items-center justify-center flex-shrink-0"><svg class="w-3 h-3 text-red-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 19"><path d="M15 1.943v12.114a1 1 0 0 1-1.581.814L8 11V5l5.419-3.871A1 1 0 0 1 15 1.943ZM7 4H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2v5a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V4ZM4 17v-5h1v5H4ZM16 5.183v5.634a2.984 2.984 0 0 0 0-5.634Z"></path></svg><span class="sr-only">Light bulb</span></span><span>Scheduled Maintenance: <a class="font-semibold">Monday, December 2</a> from <a class="font-semibold">23:00</a> to <a class="font-semibold">00:00</a>. Services may be temporarily unavailable during this time. Thank you for your understanding.</span></p></div>',1)]))):(0,a.Q3)("",!0)}const K={data(){return{bannerVisible:!1}}},W=(0,w.A)(K,[["render",q]]),Q=W,Y={name:"App",components:{AppHeader:L,AppFooter:R,PatchNote:J,Announcement:Q},mounted(){this.applyDarkModePreference()},methods:{applyDarkModePreference(){const e=localStorage.getItem("color-theme");"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}},ee=(0,w.A)(Y,[["render",n]]),te=ee;var re=r(220);function oe(e,t,r,o,s,l){const n=(0,a.g2)("SearchModule");return(0,a.uX)(),(0,a.Wv)(n)}const ae={class:"my-20 px-20 font-noto"};function se(e,t,r,o,s,l){const n=(0,a.g2)("SearchBuildingModule"),i=(0,a.g2)("ResultModule");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",ae,[(0,a.bF)(n,{onSearchComplete:l.handleSearchComplete,genes:r.genes,phenotypes:r.phenotypes},null,8,["onSearchComplete","genes","phenotypes"])]),(0,a.bF)(i,{results:s.searchResults},null,8,["results"])],64)}const le={class:"flex flex-row items-center border-blue-600"},ne={class:"flex flex-row mx-2"},ie={class:"relative w-full overflow-auto h-56"},de={class:"absolute bottom-2 right-4 flex space-x-2"},ce={class:"flex flex-row h-full gap-2 min-h-72 mx-2"},ue={class:"flex flex-col w-1/2 min-w-[350px] justify-start items-center bg-gray-50 border border-gray-300 rounded-lg p-4"},ge={class:"flex flex-row justify-between items-center w-full"},pe={class:"relative"},he={class:"relative z-10 text-lg font-bold"},me={class:"px-3 pt-4"},fe={key:0,class:"flex flex-wrap gap-2"},xe={class:"text-gray-700 font-bold font-noto"},ye={key:1,class:"flex flex-wrap gap-2"},be={class:"px-3 py-2"},ke={class:"flex flex-wrap gap-2"},we={class:"text-gray-700 font-bold font-noto"},ve={class:"flex flex-col w-1/2 min-w-[410px] justify-start items-center bg-gray-50 border border-gray-300 rounded-lg p-4"},Le={class:"flex flex-row justify-between items-center w-full"},Ce={class:"w-2/3"},Se={class:"relative"},Me={class:"flex flex-row justify-center mx-2"},Ee={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Ie={class:"bg-white rounded-lg shadow-lg w-96 p-6 text-center"},_e={class:"flex justify-center gap-4"};function Ae(e,t,r,s,l,n){return(0,a.uX)(),(0,a.CE)("div",{class:"flex flex-col gap-3 justify-center min-w-[790px]",onClickCapture:t[22]||(t[22]=e=>{n.hideSuggestions("geneSuggestions"),n.hideSuggestions("phenotypeSuggestions")})},[(0,a.Lk)("div",null,[(0,a.Lk)("div",le,[t[23]||(t[23]=(0,a.Fv)('<label for="batch" class="block text-3xl ml-5 font-extrabold text-gray-700"> EXTRACT FROM TEXT </label><div class="group flex z-10 relative ml-3"><button data-popover-target="popover-extract" data-popover-placement="right" class="text-gray-600 transition-colors duration-200 focus:outline-none dark:text-gray-200 dark:hover:text-red-400 hover:text-red-500"><svg class="w-6 h-6 text-gray-700 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.008-3.018a1.502 1.502 0 0 1 2.522 1.159v.024a1.44 1.44 0 0 1-1.493 1.418 1 1 0 0 0-1.037.999V14a1 1 0 1 0 2 0v-.539a3.44 3.44 0 0 0 2.529-3.256 3.502 3.502 0 0 0-7-.255 1 1 0 0 0 2 .076c.014-.398.187-.774.48-1.044Zm.982 7.026a1 1 0 1 0 0 2H12a1 1 0 1 0 0-2h-.01Z" clip-rule="evenodd"></path></svg></button></div>',2)),t[24]||(t[24]=(0,a.Lk)("div",{"data-popover":"",id:"popover-extract",role:"tooltip",class:"absolute z-10 invisible opacity-0 inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm dark:text-gray-400 dark:border-gray-600 dark:bg-gray-800"},[(0,a.Lk)("div",{class:"flex flex-row items-center space-x-2 px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-t-lg dark:border-gray-600 dark:bg-gray-700"},[(0,a.Lk)("svg",{class:"w-6 h-6 text-gray-700 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.008-3.018a1.502 1.502 0 0 1 2.522 1.159v.024a1.44 1.44 0 0 1-1.493 1.418 1 1 0 0 0-1.037.999V14a1 1 0 1 0 2 0v-.539a3.44 3.44 0 0 0 2.529-3.256 3.502 3.502 0 0 0-7-.255 1 1 0 0 0 2 .076c.014-.398.187-.774.48-1.044Zm.982 7.026a1 1 0 1 0 0 2H12a1 1 0 1 0 0-2h-.01Z","clip-rule":"evenodd"})]),(0,a.Lk)("h3",{class:"font-semibold text-gray-800 dark:text-white"},"Automatic genes extraction")]),(0,a.Lk)("div",{class:"px-3 py-2 font-semibold text-nowrap"},[(0,a.Lk)("p",null,"Paste text or drag a file to extract gene names automatically.")]),(0,a.Lk)("div",{"data-popper-arrow":""})],-1)),(0,a.Lk)("button",{class:"ml-auto px-4 py-1 mb-1 mr-5 bg-red-500 text-white rounded-lg font-bold hover:bg-red-600",onClick:t[0]||(t[0]=(...e)=>n.showLogoutModal&&n.showLogoutModal(...e))}," New Research ")]),(0,a.Lk)("div",ne,[(0,a.Lk)("div",ie,[(0,a.bo)((0,a.Lk)("textarea",{id:"batchInput","onUpdate:modelValue":t[1]||(t[1]=e=>l.batchInput=e),rows:"4",class:"block p-2.5 pb-12 w-full h-full resize-none text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Paste your genes here..."},null,512),[[o.Jo,l.batchInput]]),(0,a.Lk)("div",de,[(0,a.Lk)("button",{id:"submitTextArea",onClick:t[2]||(t[2]=(...e)=>n.extractGeneFromBatch&&n.extractGeneFromBatch(...e)),type:"button",class:"flex items-center px-4 py-2 bg-gray-800 hover:bg-gray-600 text-white font-medium rounded-md space-x-2"},t[25]||(t[25]=[(0,a.Lk)("svg",{class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M9.586 2.586A2 2 0 0 1 11 2h2a2 2 0 0 1 2 2v.089l.473.196.063-.063a2.002 2.002 0 0 1 2.828 0l1.414 1.414a2 2 0 0 1 0 2.827l-.063.064.196.473H20a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-.089l-.196.473.063.063a2.002 2.002 0 0 1 0 2.828l-1.414 1.414a2 2 0 0 1-2.828 0l-.063-.063-.473.196V20a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-.089l-.473-.196-.063.063a2.002 2.002 0 0 1-2.828 0l-1.414-1.414a2 2 0 0 1 0-2.827l.063-.064L4.089 15H4a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h.09l.195-.473-.063-.063a2 2 0 0 1 0-2.828l1.414-1.414a2 2 0 0 1 2.827 0l.064.063L9 4.089V4a2 2 0 0 1 .586-1.414ZM8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z","clip-rule":"evenodd"})],-1),(0,a.Lk)("span",null,"Extract Genes",-1)])),(0,a.Lk)("button",{id:"clearTextArea",onClick:t[3]||(t[3]=(...e)=>n.clearBatchInput&&n.clearBatchInput(...e)),type:"button",class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-md"}," Clear ")])]),(0,a.Lk)("div",{class:"flex flex-col items-center justify-center h-56 mb-3 ml-3 max-w-lg text-center bg-gray-50 border-2 border-gray-300 border-dashed cursor-pointer dark:bg-gray-900 dark:border-gray-700 rounded-xl",onDragover:t[5]||(t[5]=(0,o.D$)((()=>{}),["prevent"])),onDragenter:t[6]||(t[6]=(0,o.D$)((()=>{}),["prevent"])),onDrop:t[7]||(t[7]=(0,o.D$)(((...e)=>n.handleFileDrop&&n.handleFileDrop(...e)),["prevent"]))},[t[26]||(t[26]=(0,a.Fv)('<label for="dropzone-file" class="flex flex-col items-center justify-center w-full h-full cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-gray-500 dark:text-gray-400"><path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"></path></svg><h2 class="mt-1 font-medium tracking-wide text-gray-700 dark:text-gray-200"> Drop File Here </h2><p class="mt-2 px-1.5 text-xs tracking-wide text-gray-500 dark:text-gray-400"> Upload or drag &amp; drop your file TXT, CSV or XML. </p></label>',1)),(0,a.Lk)("input",{id:"dropzone-file",type:"file",class:"hidden",onChange:t[4]||(t[4]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e))},null,32)],32)])]),(0,a.Lk)("div",ce,[(0,a.Lk)("div",ue,[(0,a.Lk)("div",ge,[(0,a.Lk)("button",{onClick:t[8]||(t[8]=e=>n.clearContainer("gene"))},t[27]||(t[27]=[(0,a.Lk)("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})],-1)])),(0,a.Lk)("form",{onSubmit:t[12]||(t[12]=(0,o.D$)((()=>{}),["prevent"])),class:"w-2/3"},[t[31]||(t[31]=(0,a.Lk)("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1)),(0,a.Lk)("div",pe,[t[29]||(t[29]=(0,a.Lk)("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[(0,a.Lk)("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),(0,a.Lk)("input",{type:"search",ref:"geneInput",id:"geneInput",class:"block w-full h-full p-4 pl-10 text-base text-gray-900 border shadow-inner border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 focus:outline-none",placeholder:"Add Genes...",onInput:t[9]||(t[9]=t=>e.debouncedShowSuggestions("gene")),onKeydown:t[10]||(t[10]=(0,o.jR)((0,o.D$)(((...e)=>n.addFreeGene&&n.addFreeGene(...e)),["prevent"]),["enter"])),autocomplete:"off",required:""},null,544),(0,a.Lk)("button",{type:"button",id:"addPhenotypeButton",onClick:t[11]||(t[11]=e=>n.addFreeGene()),class:"text-white absolute right-2 bottom-2 bg-gray-800 hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},t[28]||(t[28]=[(0,a.Lk)("p",{class:"text-white"},"Add",-1)])),t[30]||(t[30]=(0,a.Lk)("ul",{id:"geneSuggestions",class:"absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10 top-full"},null,-1))])],32),(0,a.Lk)("button",{"data-popover-target":"popover-default",onClick:t[13]||(t[13]=e=>n.clearBlacklist()),class:"bg-red-500 py-1 px-1 rounded-full text-white text-center"},[t[32]||(t[32]=(0,a.Lk)("svg",{class:"w-6 h-6 text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"m6 6 12 12m3-6a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),(0,a.Lk)("span",he,(0,i.v_)(l.blacklistedGenes.length),1)]),(0,a.Lk)("div",{"data-popover":"",id:"popover-default",onClick:t[14]||(t[14]=(...e)=>n.clearBlacklist&&n.clearBlacklist(...e)),role:"tooltip",class:"absolute opacity 0 invisible z-10 inline-block w-64 text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-100 dark:text-gray-400 dark:border-gray-600 dark:bg-gray-800"},[t[34]||(t[34]=(0,a.Lk)("div",{class:"px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-t-lg dark:border-gray-600 dark:bg-gray-700"},[(0,a.Lk)("h3",{class:"font-bold text-gray-900 font-noto dark:text-white"},"Excluded Genes"),(0,a.Lk)("p",{class:"font-medium italic font-noto text-red-500"},"Click to clear")],-1)),(0,a.Lk)("div",me,[l.blacklistedGenes.length>0?((0,a.uX)(),(0,a.CE)("div",fe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.blacklistedGenes,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"inline-flex px-2 justify-center items-center bg-red-200 rounded-full"},[(0,a.Lk)("p",xe,(0,i.v_)(e),1)])))),128))])):((0,a.uX)(),(0,a.CE)("div",ye,t[33]||(t[33]=[(0,a.Lk)("p",{class:"text-gray-700 font-noto"},"Select a gene to ignore it",-1)])))]),(0,a.Lk)("div",be,[(0,a.Lk)("div",ke,[(0,a.Lk)("p",we,(0,i.v_)(e.gene),1)])]),t[35]||(t[35]=(0,a.Lk)("div",{"data-popper-arrow":""},null,-1))])]),t[36]||(t[36]=(0,a.Lk)("div",{class:"flex flex-col items-center mt-2 space-y-4 rounded max-h-48 overflow-auto p-4"},[(0,a.Lk)("div",{class:"flex flex-wrap gap-2 p-4 gene-items"})],-1))]),t[45]||(t[45]=(0,a.Lk)("div",{class:"bg-gray-300 w-0.5"},null,-1)),(0,a.Lk)("div",ve,[(0,a.Lk)("div",Le,[t[43]||(t[43]=(0,a.Lk)("div",{class:"w-6"},null,-1)),(0,a.Lk)("form",Ce,[t[41]||(t[41]=(0,a.Lk)("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1)),(0,a.Lk)("div",Se,[t[38]||(t[38]=(0,a.Lk)("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[(0,a.Lk)("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),(0,a.Lk)("input",{type:"search",id:"phenotypeInput",ref:"phenotypeInput",class:"block w-full h-full p-4 pl-10 text-base shadow-inner text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 focus:outline-none",placeholder:"Add phenotypes...",onInput:t[15]||(t[15]=t=>e.debouncedShowSuggestions("phenotype")),autocomplete:"off",onKeydown:t[16]||(t[16]=(0,o.jR)((0,o.D$)(((...e)=>n.addFreePhenotype&&n.addFreePhenotype(...e)),["prevent"]),["enter"])),required:""},null,544),(0,a.Lk)("button",{type:"button",id:"addPhenotypeButton",onClick:t[17]||(t[17]=e=>n.addFreePhenotype()),class:"text-white absolute right-2 bottom-2 bg-gray-800 hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},t[37]||(t[37]=[(0,a.Lk)("p",{class:"text-white"},"Add",-1)])),t[39]||(t[39]=(0,a.Lk)("ul",{id:"phenotypeSuggestions",class:"absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10 top-full"},null,-1)),t[40]||(t[40]=(0,a.Lk)("ul",{id:"suggestions",class:"absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10"},null,-1))])]),(0,a.Lk)("button",{onClick:t[18]||(t[18]=e=>n.clearContainer("phenotype"))},t[42]||(t[42]=[(0,a.Lk)("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})],-1)]))]),t[44]||(t[44]=(0,a.Lk)("div",{class:"flex flex-col items-center mt-2 space-y-4 rounded max-h-48 overflow-auto p-4"},[(0,a.Lk)("div",{class:"flex flex-wrap gap-2 p-4 phenotype-items"})],-1))])]),(0,a.Lk)("div",Me,[(0,a.Lk)("button",{type:"button",id:"researchButton",onClick:t[19]||(t[19]=(...e)=>n.reasearch&&n.reasearch(...e)),class:"text-white bg-gray-800 hover:bg-gray-600 w-full justify-center focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm py-2.5 text-center inline-flex items-center h-24 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},t[46]||(t[46]=[(0,a.Lk)("svg",{class:"loader w-12 h-12 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M8.737 8.737a21.49 21.49 0 0 1 3.308-2.724m0 0c3.063-2.026 5.99-2.641 7.331-1.3 1.827 1.828.026 6.591-4.023 10.64-4.049 4.049-8.812 5.85-10.64 4.023-1.33-1.33-.736-4.218 1.249-7.253m6.083-6.11c-3.063-2.026-5.99-2.641-7.331-1.3-1.827 1.828-.026 6.591 4.023 10.64m3.308-9.34a21.497 21.497 0 0 1 3.308 2.724m2.775 3.386c1.985 3.035 2.579 5.923 1.248 7.253-1.336 1.337-4.245.732-7.295-1.275M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})],-1),(0,a.Lk)("p",{class:"text-white text-3xl genes-count"},"RESEARCH 0 GENES",-1),(0,a.Lk)("div",{role:"status",class:"flex items-center"},[(0,a.Lk)("svg",{class:"loader w-12 h-12 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M8.737 8.737a21.49 21.49 0 0 1 3.308-2.724m0 0c3.063-2.026 5.99-2.641 7.331-1.3 1.827 1.828.026 6.591-4.023 10.64-4.049 4.049-8.812 5.85-10.64 4.023-1.33-1.33-.736-4.218 1.249-7.253m6.083-6.11c-3.063-2.026-5.99-2.641-7.331-1.3-1.827 1.828-.026 6.591 4.023 10.64m3.308-9.34a21.497 21.497 0 0 1 3.308 2.724m2.775 3.386c1.985 3.035 2.579 5.923 1.248 7.253-1.336 1.337-4.245.732-7.295-1.275M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})]),(0,a.Lk)("span",{class:"sr-only"},"Loading...")],-1)])),l.logoutModalVisible?((0,a.uX)(),(0,a.CE)("div",Ee,[(0,a.Lk)("div",Ie,[t[47]||(t[47]=(0,a.Lk)("h2",{class:"text-xl font-bold mb-4"},"Are you sure?",-1)),t[48]||(t[48]=(0,a.Lk)("p",{class:"text-gray-600 mb-6"},"This will clear all the research fields",-1)),(0,a.Lk)("div",_e,[(0,a.Lk)("button",{onClick:t[20]||(t[20]=(...e)=>n.confirm&&n.confirm(...e)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none"}," Yes, I'm Sure "),(0,a.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>n.cancel&&n.cancel(...e)),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none"}," Cancel ")])])])):(0,a.Q3)("",!0)])],32)}const Pe={name:"SearchBuildingModule",props:{genes:{type:Array,default:()=>[]},phenotypes:{type:Array,default:()=>[]}},data(){return{genesInput:this.genes.join(", "),phenotypesInput:this.phenotypes.join(", "),genesList:[],batchInput:"",extractedGenes:[],logoutModalVisible:!1,blacklistedGenes:[]}},mounted(){this.fetchGenesListAndCache(),sessionStorage.getItem("data")||sessionStorage.setItem("data",JSON.stringify([{type:"gene",items:[]},{type:"phenotype",items:[]}]));const e=localStorage.getItem("blacklistedGenes");this.blacklistedGenes=e?JSON.parse(e):[],this.displayItems("gene"),this.displayItems("phenotype"),(this.genes.length||this.phenotypes.length)&&this.searchFromUrl()},created(){this.debouncedShowSuggestions=this.debounce(this.showSuggestions,300)},methods:{showLogoutModal(){this.logoutModalVisible=!0},confirm(){this.logoutModalVisible=!1,this.clearWholeResearch()},cancel(){this.logoutModalVisible=!1},async searchFromUrl(){const e={genes:this.genesInput.split(",").map((e=>e.trim())),phenotypes:this.phenotypesInput.split(",").map((e=>e.trim()))};let t=0;for(const o in this.genes)t++;document.querySelector(".genes-count").textContent=`RESEARCH ${t} GENES`;try{this.startLoader();const t=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();this.$emit("search-complete",r.results||[]),this.stopLoader()}catch(r){console.error("Error during search:",r)}},async showSuggestions(e){const t=document.getElementById("gene"===e?"geneInput":"phenotypeInput"),r=document.getElementById("gene"===e?"geneSuggestions":"phenotypeSuggestions"),o=t.value.trim();if(r.innerHTML="",o)try{const t="gene"===e?await this.fetchGenesAPI(o):await this.fetchPhenotypesAPI(o);t.length>0?(t.forEach((t=>{const o=document.createElement("li");o.textContent=t.name,o.className="p-2 hover:bg-blue-100 cursor-pointer",o.onclick=()=>this.selectItem(e,t.name),r.appendChild(o)})),r.classList.remove("hidden")):r.classList.add("hidden")}catch(a){console.error("Error fetching suggestions:",a),r.classList.add("hidden")}else r.classList.add("hidden")},async fetchGenesAPI(e){try{const t=`https://clinicaltables.nlm.nih.gov/api/ncbi_genes/v3/search?terms=${encodeURIComponent(e)}&maxList=10`,r=await fetch(t,{headers:{"Content-Type":"application/json",Origin:"http://localhost:3000"}});if(!r.ok)throw new Error(`Failed to fetch data for gene symbol ${e}`);let o=await r.json();const a=o[3].map((e=>({name:e[3]})));return a}catch(t){return console.error("Fetch error:",t),[]}},async fetchPhenotypesAPI(e){try{const t=await fetch(`https://ontology.jax.org/api/hp/search?q=${encodeURIComponent(e)}&page=0&limit=10`);if(!t.ok)throw new Error("Failed to fetch data from OLS API");const r=await t.json();return r.terms}catch(t){return console.error("Fetch error:",t),[]}},selectItem(e,t){"gene"===e?this.addGene(t):"phenotype"===e&&this.addPhenotype(t);const r=document.getElementById("gene"===e?"geneInput":"phenotypeInput"),o=document.getElementById("gene"===e?"geneSuggestions":"phenotypeSuggestions");r.value="",r.focus(),o.classList.add("hidden")},addGene(e){e=e.toUpperCase();let t=JSON.parse(sessionStorage.getItem("data"))||[{type:"gene",items:[]},{type:"phenotype",items:[]}];const r=t.find((e=>"gene"===e.type));r.items.includes(e)||""===e||(r.items.push(e),sessionStorage.setItem("data",JSON.stringify(t)),this.$refs.geneInput.value="",this.displayItems("gene")),this.hideSuggestions("geneSuggestions")},addPhenotype(e){e=e.toUpperCase();let t=JSON.parse(sessionStorage.getItem("data"))||[{type:"gene",items:[]},{type:"phenotype",items:[]}];const r=t.find((e=>"phenotype"===e.type));r.items.includes(e)||""===e||(r.items.push(e),sessionStorage.setItem("data",JSON.stringify(t)),this.$refs.phenotypeInput.value="",this.displayItems("phenotype")),this.hideSuggestions("phenotypeSuggestions")},getItems(e){const t=JSON.parse(sessionStorage.getItem("data")),r=t.find((t=>t.type===e));return r?r.items:[]},displayItems(e){const t=this.getItems(e),r="gene"===e?document.querySelector(".flex-wrap.gene-items"):document.querySelector(".flex-wrap.phenotype-items");if(r?(r.innerHTML="",t.forEach((t=>{const o=document.createElement("div"),a=document.createElement("div");a.textContent=t;const s=this.createSvgIcon(e,t);o.appendChild(a),o.appendChild(s),"gene"===e?(this.blacklistedGenes.includes(t)?o.className="bg-red-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4 select-none":o.className="bg-gray-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4 select-none",o.addEventListener("click",(()=>{this.handleGeneClick(t,o)}))):o.className="bg-gray-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4",r.appendChild(o)}))):console.error("Container element not found!"),"gene"===e){const e=this.blacklistedGenes.filter((e=>t.includes(e))).length,r=Math.max(Object.keys(t).length-e,0);document.querySelector(".genes-count").textContent=`RESEARCH ${r} GENES`}},handleGeneClick(e,t){const r=this.blacklistedGenes.includes(e);r?(this.blacklistedGenes=this.blacklistedGenes.filter((t=>t!==e)),t.className="bg-gray-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4"):(this.blacklistedGenes.push(e),t.className="bg-red-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4"),this.displayItems("gene"),localStorage.setItem("blacklistedGenes",JSON.stringify(this.blacklistedGenes))},clearBlacklist(){this.blacklistedGenes=[],localStorage.removeItem("blacklistedGenes"),this.displayItems("gene")},createSvgIcon(e,t){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class","w-6 h-6 hover:text-gray-600 text-gray-800 dark:text-white"),r.setAttribute("aria-hidden","true"),r.setAttribute("width","24"),r.setAttribute("height","24"),r.setAttribute("fill","currentColor"),r.setAttribute("viewBox","0 0 24 24");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("fill-rule","evenodd"),o.setAttribute("d","M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm7.707-3.707a1 1 0 0 0-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 1 0 1.414 1.414L12 13.414l2.293 2.293a1 1 0 0 0 1.414-1.414L13.414 12l2.293-2.293a1 1 0 0 0-1.414-1.414L12 10.586 9.707 8.293Z"),o.setAttribute("clip-rule","evenodd"),r.appendChild(o),r.addEventListener("click",(r=>{r.stopPropagation(),this.removeItem(e,t)})),r},removeItem(e,t){const r=JSON.parse(sessionStorage.getItem("data")),o=r.find((t=>t.type===e)).items,a=o.filter((e=>e!==t));r.find((t=>t.type===e)).items=a,sessionStorage.setItem("data",JSON.stringify(r)),this.displayItems(e)},clearList(e){const t=JSON.parse(sessionStorage.getItem("data")),r=t.find((t=>t.type===e));r.items=[],sessionStorage.setItem("data",JSON.stringify(t)),this.displayItems(e)},hideSuggestions(e){const t=document.getElementById(e);t&&t.classList.add("hidden")},addFreeGene(){const e=document.getElementById("geneInput"),t=e.value.trim();t&&(this.addGene(t),e.value="",this.hideSuggestions(geneSuggestions))},addFreePhenotype(){const e=document.getElementById("phenotypeInput"),t=e.value.trim();let r=[];if(t){if(t.length>20){const e=/\d{7}:\s[^0-9]+(?=\s|$)/g;r=t.match(e);for(let t in r)r[t]=r[t].split(":")[1].trim(),this.addPhenotype(r[t])}else this.addPhenotype(t);e.value="",this.hideSuggestions(phenotypeSuggestions)}},startLoader(){document.querySelectorAll(".loader").forEach((e=>{e.classList.add("animate-spin")}))},stopLoader(){document.querySelectorAll(".loader").forEach((e=>{e.classList.remove("animate-spin")}))},async reasearch(){(0,U.f0)("research_click",{event_category:"user_interaction",event_label:"search_button",debug_mode:!0}),this.startLoader();let e=this.getItems("gene");const t=this.getItems("phenotype"),r=JSON.parse(localStorage.getItem("user")),o=r?r.id:null;if(e=e.filter((e=>!this.blacklistedGenes.includes(e))),e.length>0||t.length>0){const r={userId:o,genes:e,phenotypes:t};fetch("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status} `);return e.json()})).then((e=>{e&&e.results&&0!==e.results.length?e&&e.results&&(this.$emit("search-complete",e.results),sessionStorage.setItem("results",JSON.stringify(e)),this.stopLoader()):this.stopLoader()})).catch((e=>{console.error("Error:",e)}))}else((e,t)=>0===Object.keys(e).length&&0===Object.keys(t).length)&&this.stopLoader()},debounce(e,t){let r;return function(...o){clearTimeout(r),r=setTimeout((()=>e.apply(this,o)),t)}},async fetchGenesListAndCache(){if(sessionStorage.getItem("genesList"))this.genesList=JSON.parse(sessionStorage.getItem("genesList"));else try{const e=await fetch("api/geneslist"),t=await e.json();this.genesList=t.genes,sessionStorage.setItem("genesList",JSON.stringify(t.genes))}catch(e){console.error("Error fetching genes:",e)}},extractGeneFromBatch(){if(!this.batchInput.trim()||0===this.genesList.length)return void(this.extractedGenes=[]);const e=this.batchInput,t=this.genesList.filter((t=>{const r=new RegExp(`\\b${t}\\b`,"i");return r.test(e)}));t.sort(((t,r)=>e.indexOf(t)-e.indexOf(r))),this.extractedGenes=t,this.populateSearchWithExtraction(t)},async populateSearchWithExtraction(e){for(const t of e)this.addGene(t),await new Promise((e=>setTimeout(e,10)))},clearBatchInput(){this.batchInput="",document.getElementById("batchInput").value=""},readFileContent(e){const t=new FileReader;t.onload=e=>{const t=e.target.result;this.batchInput=t,this.extractGeneFromBatch()},t.onerror=e=>{console.error("Error reading file:",e)},t.readAsText(e)},handleFileDrop(e){const t=e.dataTransfer.files[0];t&&this.readFileContent(t)},handleFileUpload(e){const t=e.target.files[0];t&&this.readFileContent(t)},clearWholeResearch(){this.clearList("gene"),this.clearList("phenotype"),this.batchInput="",this.extractedGenes=[]},clearContainer(e){this.clearList(e)}}},je=(0,w.A)(Pe,[["render",Ae]]),Te=je,De={class:"flex justify-center flex-row items-center bg-gray-800 w-42 rounded-t-3xl px-4 hover:bg-gray-700 select-none cursor-pointer"},Be={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",class:"fill-gray-100"},Fe={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",class:"fill-gray-100"},Ve={class:"block"},Oe={class:"drop-shadow-xl rounded-3xl overflow-hidden"},Re={id:"resultsTable",class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 bg-gray-800"},Ge={class:"uppercase text-lg text-nowrap text-gray-200"},Ze={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Xe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},He={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ue={class:"px-6 py-4 text-lg text-center font-medium text-gray-900 whitespace-nowrap dark:text-white border-gray-200"},Ne={class:"flex flex-col items-center justify-center"},ze=["href"],Je={class:"flex w-32 h-24 justify-center items-center"},$e={class:"relative w-full"},qe={key:0},Ke=["data-popover-target"],We=["id"],Qe={class:"grid grid-cols-2 text-center text-xs border-blue-600 bg-gray-100 rounded-lg"},Ye={class:"flex py-1.5 flex-col items-center justify-center border-t border-l border-b rounded-bl-lg border-gray-400"},et={class:"absolute inset-0 flex items-center justify-center select-none"},tt={class:"flex items-center justify-center"},rt={class:"bg-white border border-gray-300 rounded-full w-10 h-5 flex items-center justify-center"},ot={class:"text-gray-700 font-bold text-sm"},at=["data-popover-target"],st={class:"flex flex-row items-center justify-center"},lt={class:"w-32 h-32 flex items-center justify-center border-green-500 hover:bg-blue-50"},nt={class:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100"},it=["stroke"],dt={class:"flex flex-col flex-grow items-center justify-center border-red-700 w-32"},ct={class:"flex items-center justify-center"},ut=["href"],gt=["id"],pt={class:"px-6 py-4 border-gray-200"},ht={key:0,class:"mb-2 flex flex-wrap gap-2"},mt=["href"],ft={class:"px-6 py-4 border-gray-200"},xt={key:0,class:"flex flex-wrap gap-2 justify-center drop-shadow"},yt=["innerHTML","data-popover-target"],bt=["id"],kt={class:"px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-t-lg dark:border-gray-600 dark:bg-gray-700"},wt={class:"font-bold text-gray-800 font-noto dark:text-white text-nowrap"},vt={class:"px-3 py-2"},Lt={class:"list-disc space-y-1"},Ct={class:"text-gray-700 font-bold font-noto text-nowrap"},St={class:"px-6 py-4 border-gray-200"},Mt={class:"flex flex-row justify-center"},Et={class:"w-24 border border-gray-200 rounded-md shadow-inner"},It={class:"px-6 py-4 text-center"},_t=["href"],At={class:"flex flex-row justify-center gap-2"},Pt=["href"],jt={class:"relative"},Tt={class:"absolute inset-0 flex items-center justify-center"},Dt={class:"bg-white rounded-full w-5 h-5 flex items-center justify-center"},Bt={class:"text-gray-700 font-bold text-sm"},Ft=["href"],Vt={class:"relative"},Ot={class:"absolute inset-0 flex items-center justify-center"},Rt={class:"bg-white rounded-full w-5 h-5 flex items-center justify-center"},Gt={class:"text-gray-700 font-bold text-sm"};function Zt(e,t,r,o,s,l){const n=(0,a.g2)("count-up"),d=(0,a.g2)("ClinVarVizualiser");return(0,a.uX)(),(0,a.CE)("main",{id:"searchResults",class:(0,i.C4)(["flex px-20 w-full flex-grow flex-col font-noto justify-center items-center mb-10",{hidden:!r.results||0===r.results.length}])},[(0,a.Lk)("div",De,[r.results.length>0?((0,a.uX)(),(0,a.CE)("svg",Be,t[4]||(t[4]=[(0,a.Lk)("path",{d:"m12 17.586-7.293-7.293-1.414 1.414L12 20.414l8.707-8.707-1.414-1.414L12 17.586z"},null,-1),(0,a.Lk)("path",{d:"m20.707 5.707-1.414-1.414L12 11.586 4.707 4.293 3.293 5.707 12 14.414l8.707-8.707z"},null,-1)]))):(0,a.Q3)("",!0),(0,a.Lk)("p",{class:"text-bold h-10 text-4xl font-semibold pb-5 text-gray-100",onClick:t[0]||(t[0]=(...e)=>l.scrollToResults&&l.scrollToResults(...e))}," RESULTS "),r.results.length>0?((0,a.uX)(),(0,a.CE)("svg",Fe,t[5]||(t[5]=[(0,a.Lk)("path",{d:"m12 17.586-7.293-7.293-1.414 1.414L12 20.414l8.707-8.707-1.414-1.414L12 17.586z"},null,-1),(0,a.Lk)("path",{d:"m20.707 5.707-1.414-1.414L12 11.586 4.707 4.293 3.293 5.707 12 14.414l8.707-8.707z"},null,-1)]))):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[s.isScrolled?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>l.scrollToTop&&l.scrollToTop(...e)),class:"fixed bottom-20 right-1 p-3 z-50 bg-gray-800 text-white rounded-full hover:bg-gray-600"},t[6]||(t[6]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1)]))):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Ve,[(0,a.Lk)("div",Oe,[(0,a.Lk)("table",Re,[(0,a.Lk)("thead",Ge,[(0,a.Lk)("tr",null,[t[12]||(t[12]=(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-gray-300 relative group cursor-default"},[(0,a.eW)(" GENE "),(0,a.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," Gene name and GnomAd constraints ")],-1)),(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-gray-300 relative group cursor-pointer",onClick:t[2]||(t[2]=(...e)=>l.sortByPubMedCount&&l.sortByPubMedCount(...e))},[t[10]||(t[10]=(0,a.eW)(" PUBMATCH ")),(0,a.Lk)("span",null,["asc"===s.sortDirection?((0,a.uX)(),(0,a.CE)("svg",Ze,t[7]||(t[7]=[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)]))):"desc"===s.sortDirection?((0,a.uX)(),(0,a.CE)("svg",Xe,t[8]||(t[8]=[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):((0,a.uX)(),(0,a.CE)("svg",He,t[9]||(t[9]=[(0,a.Lk)("line",{x1:"5",y1:"10",x2:"19",y2:"10","stroke-linecap":"round"},null,-1),(0,a.Lk)("line",{x1:"5",y1:"14",x2:"19",y2:"14","stroke-linecap":"round"},null,-1)])))]),t[11]||(t[11]=(0,a.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," Number of article for the Match & Name of First Publication ",-1))]),t[13]||(t[13]=(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-gray-300 relative group cursor-default"},[(0,a.eW)(" FUNCTION "),(0,a.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," Uniprot keywords , function & link ")],-1)),t[14]||(t[14]=(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-gray-300 relative group cursor-default"},[(0,a.eW)(" PHENOTYPE KO "),(0,a.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," IMPC Signficant Phenotype on KO Mice ")],-1)),t[15]||(t[15]=(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-gray-300 relative group cursor-default"},[(0,a.eW)(" ClinVar LookUp "),(0,a.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," Variants P/PL or VUS repartition from ClinVar ")],-1)),t[16]||(t[16]=(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-center relative group cursor-default"},[(0,a.eW)(" STATUS "),(0,a.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-2 transform -translate-x-1/2"}," Status on GeneCC & PanelApp Data ")],-1))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.results,(r=>((0,a.uX)(),(0,a.CE)("tr",{key:r.gene,class:"bg-white dark:bg-gray-800 dark:border-gray-700 odd:bg-white even:bg-gray-50"},[(0,a.Lk)("td",Ue,[(0,a.Lk)("div",Ne,[(0,a.Lk)("a",{href:r.gene?`https://www.genenames.org/data/gene-symbol-report/#!/hgnc_id/${r.hgncId}`:"#",target:"_blank",rel:"noopener noreferrer",class:"relative"},[(0,a.Lk)("p",null,[(0,a.Lk)("em",null,(0,i.v_)(r.gene),1)])],8,ze),(0,a.Lk)("div",{class:"relative flex h-full items-center justify-center cursor-pointer",onClick:t[3]||(t[3]=(...e)=>l.toggleVersion&&l.toggleVersion(...e))},[(0,a.Lk)("div",Je,[(0,a.Lk)("div",$e,[r.constraintsDelta?((0,a.uX)(),(0,a.CE)("div",qe,[(0,a.Lk)("div",{"data-popover-target":"popover-const-"+r.gene,"data-popover-placement":"right",class:"absolute inline-flex items-center z-10 justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -end-2 dark:border-gray-900 cursor-pointer"}," ! ",8,Ke)])):(0,a.Q3)("",!0),(0,a.Lk)("div",{"data-popover":"",id:"popover-const-"+r.gene,role:"tooltip",class:"absolute z-20 inline-block invisible opacity-0 text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm dark:text-gray-400 dark:border-gray-600 dark:bg-gray-800"},t[17]||(t[17]=[(0,a.Fv)('<div class="px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-t-lg dark:border-gray-600 dark:bg-gray-700 flex flex-row space-x-2"><svg class="w-5 h-5 text-red-500 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm11-4a1 1 0 1 0-2 0v5a1 1 0 1 0 2 0V8Zm-1 7a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2H12Z" clip-rule="evenodd"></path></svg><h3 class="font-semibold text-gray-900 dark:text-white"> Constraints warning</h3></div><div class="px-3 py-2 text-nowrap"><p>Significant differences detected in constraints. </p></div><div data-popper-arrow class="pr-2"></div>',3)]),8,We),(0,a.Lk)("div",Qe,[(0,a.Lk)("div",{class:(0,i.C4)(["flex py-1.5 flex-col items-center justify-center border-t border-l rounded-tl-lg border-gray-400","v2"===s.displayVersion?l.getConstraintColor(r.constraints_v2.pLI,"pLI"):"text-black"])},[t[18]||(t[18]=(0,a.Lk)("p",{class:"font-bold"},"pLI",-1)),(0,a.Lk)("p",null,(0,i.v_)("v2"===s.displayVersion?r.constraints_v2.pLI:r.constraints_v4.pLI),1)],2),(0,a.Lk)("div",{class:(0,i.C4)(["flex py-1.5 flex-col items-center justify-center border-t border-l border-r rounded-tr-lg border-gray-400","v2"===s.displayVersion?l.getConstraintColor(r.constraints_v2.oe_lof_upper,"LOEUF"):"text-black"])},[t[19]||(t[19]=(0,a.Lk)("p",{class:"font-bold"},"LOEUF",-1)),(0,a.Lk)("p",null,(0,i.v_)("v2"===s.displayVersion?r.constraints_v2.oe_lof_upper:r.constraints_v4.oe_lof_upper),1)],2),(0,a.Lk)("div",Ye,[t[20]||(t[20]=(0,a.Lk)("p",{class:"font-bold"},"Z_score",-1)),(0,a.Lk)("p",null,(0,i.v_)("v2"===s.displayVersion?r.constraints_v2.mis_z:r.constraints_v4.mis_z),1)]),(0,a.Lk)("div",{class:(0,i.C4)(["flex py-1.5 flex-col items-center justify-center border border-gray-400 rounded-br-lg","v2"===s.displayVersion?l.getConstraintColor(r.constraints_v2.oe_mis_upper,"MOEUF"):"text-black"])},[t[21]||(t[21]=(0,a.Lk)("p",{class:"font-bold"},"MOEUF",-1)),(0,a.Lk)("p",null,(0,i.v_)("v2"===s.displayVersion?r.constraints_v2.oe_mis_upper:r.constraints_v4.oe_mis_upper),1)],2),(0,a.Lk)("div",et,[(0,a.Lk)("div",tt,[(0,a.Lk)("div",rt,[(0,a.Lk)("p",ot,(0,i.v_)(s.displayVersion),1)])])])])])])])])]),(0,a.Lk)("td",{class:"w-96 py-4 pr-3 border-gray-200 hover:bg-gray-100","data-popover-target":"popover-pubmatch-"+r.firstArticleTitle,"data-popover-placement":"right"},[(0,a.Lk)("div",st,[(0,a.Lk)("div",lt,[((0,a.uX)(),(0,a.CE)("svg",nt,[(0,a.Lk)("circle",{class:"text-gray-300",cx:"50",cy:"50",r:"25","stroke-width":"5",stroke:l.getColor(r.count),fill:"none"},null,8,it)])),(0,a.bF)(n,{"end-val":r.count,duration:1.5,delay:10,easing:e.linear,class:"absolute font-bold"},null,8,["end-val","easing"])]),(0,a.Lk)("div",dt,[(0,a.Lk)("div",ct,[(0,a.Lk)("a",{href:r.url,target:"_blank",class:"underline text-blue-600 text-base font-medium flex items-center transition duration-200 hover:text-blue-800"},[(0,a.eW)((0,i.v_)(r.firstArticleTitle||"N/A")+" ",1),t[22]||(t[22]=(0,a.Lk)("i",{class:"fas fa-external-link-alt ml-2 text-xs"},null,-1))],8,ut)]),(0,a.Lk)("div",{"data-popover":"",id:"popover-pubmatch-"+r.firstArticleTitle,role:"tooltip",class:"absolute z-10 invisible opacity-0 inline-block w-64 text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm dark:text-gray-400 dark:border-gray-600 dark:bg-gray-800"},t[23]||(t[23]=[(0,a.Fv)('<div class="px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-t-lg dark:border-gray-600 dark:bg-gray-700"><h3 class="font-semibold text-gray-900 dark:text-white">ALTERNATIVE RESULTS </h3></div><div class=""><div class="border-b border-gray-200 flex flex-row space-x-2 items-center hover:bg-blue-100"><div><svg class="w-6 h-6 text-gray-500 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"></path></svg></div><p>RMI1 facilitates repair of ionizing radiation-induced DNA damage and maintenance of genomic stability.</p></div><div class="border-b border-gray-200 flex flex-row space-x-2 items-center"><div><svg class="w-6 h-6 text-gray-500 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"></path></svg></div><p>RMI1 contributes to DNA repair and to the tolerance to camptothecin.</p></div><div class="border-b border-gray-200 flex flex-row space-x-2 items-center"><div><svg class="w-6 h-6 text-gray-500 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"></path></svg></div><p> Phenotypic spectrum of BLM- and RMI1-related Bloom syndrome. </p></div></div><div data-popper-arrow></div>',3)]),8,gt)])])],8,at),(0,a.Lk)("td",pt,[r.bioProcessKeywordsOnly&&r.bioProcessKeywordsOnly.length>0?((0,a.uX)(),(0,a.CE)("div",ht,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.bioProcessKeywordsOnly,(e=>((0,a.uX)(),(0,a.CE)("span",{key:e,class:"px-2 py-1 text-xs font-bold font-sans text-blue-700 bg-blue-100 rounded"},(0,i.v_)(e),1)))),128))])):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,i.v_)(r.geneFunction||"N/A")+" ",1),(0,a.Lk)("a",{href:r.urlAccession,target:"_blank",class:"font-bold text-blue-600"},"[...]",8,mt)]),(0,a.Lk)("td",ft,[r.mousePhenotypes&&Object.keys(r.mousePhenotypes).length>0?((0,a.uX)(),(0,a.CE)("div",xt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.mousePhenotypes,((e,o)=>((0,a.uX)(),(0,a.CE)("div",{key:o,class:"relative flex items-center gap-2"},[(0,a.Lk)("span",{innerHTML:e.icon,class:"w-6 h-6 cursor-pointer text-gray-600","data-popover-target":"popover-mouseKO-"+r.gene+"-"+o},null,8,yt),(0,a.Lk)("div",{id:"popover-mouseKO-"+r.gene+"-"+o,"data-popover":"",role:"tooltip",class:"absolute z-10 invisible opacity-0 inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm dark:text-gray-400 dark:border-gray-600 dark:bg-gray-800"},[(0,a.Lk)("div",kt,[(0,a.Lk)("h3",wt,(0,i.v_)(l.formatCategory(o)),1)]),(0,a.Lk)("div",vt,[(0,a.Lk)("ul",Lt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.names,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e,class:"inline-flex px-2 justify-center items-center bg-blue-200 rounded-full"},[(0,a.Lk)("p",Ct,(0,i.v_)(e),1)])))),128))])]),t[24]||(t[24]=(0,a.Lk)("div",{"data-popper-arrow":""},null,-1))],8,bt)])))),128))])):(0,a.Q3)("",!0)]),(0,a.Lk)("td",St,[(0,a.Lk)("div",Mt,[(0,a.Lk)("div",Et,[(0,a.bF)(d,{variantData:[r.lofVariants,r.missenseVariants,r.lofUnknown,r.missenseUnknown]},null,8,["variantData"])])])]),(0,a.Lk)("td",It,[(0,a.Lk)("div",{class:(0,i.C4)([[l.getValidityColor(r.geneValidity)],"rounded-full text-white font-bold py-1 px-2 text-nowrap"])},[(0,a.Lk)("a",{href:r.geneLink,target:"_blank",rel:"noopener noreferrer",class:"text-white hover:underline"},(0,i.v_)(r.geneValidity),9,_t)],2),(0,a.Lk)("div",At,[(0,a.Lk)("a",{href:r.gene?`https://panelapp.genomicsengland.co.uk/panels/entities/${r.gene}`:"#",target:"_blank",rel:"noopener noreferrer",class:"relative"},[(0,a.Lk)("div",jt,[t[25]||(t[25]=(0,a.Lk)("img",{src:"/images/england.png",alt:"England Flag",style:{cursor:"pointer"},width:"50"},null,-1)),(0,a.Lk)("div",Tt,[(0,a.Lk)("div",Dt,[(0,a.Lk)("p",Bt,(0,i.v_)(r.panelAppEnglandCount||0),1)])])])],8,Pt),(0,a.Lk)("a",{href:r.gene?`https://panelapp.agha.umccr.org/panels/entities/${r.gene}`:"#",target:"_blank",rel:"noopener noreferrer",class:"relative"},[(0,a.Lk)("div",Vt,[t[26]||(t[26]=(0,a.Lk)("img",{src:"/images/australia.png",alt:"Aussie Flag",style:{cursor:"pointer"},width:"50"},null,-1)),(0,a.Lk)("div",Ot,[(0,a.Lk)("div",Rt,[(0,a.Lk)("p",Gt,(0,i.v_)(r.panelAppAustraliaCount||0),1)])])])],8,Ft)])])])))),128))])])])])],2)}function Xt(e,t,r,o,s,l){const n=(0,a.g2)("Bar");return(0,a.uX)(),(0,a.Wv)(n,{id:"my-chart-id",options:s.chartOptions,data:l.chartData,class:""},null,8,["options","data"])}var Ht=r(527),Ut=r(203),Nt=r(118);Nt.t1.register(Nt.hE,Nt.m_,Nt.s$,Nt.E8,Nt.PP,Nt.kc),Nt.t1.register(Ut.A);const zt={name:"ClinVarVizualiser",components:{Bar:Ht.yP},props:{variantData:{type:Array,required:!0}},computed:{chartData(){const[e,t,r,o]=this.variantData;return{labels:["P/LP","VUS"],datasets:[{label:"Lof",data:[e,r],backgroundColor:"rgba(255, 99, 132, 0.8)"},{label:"Missense",data:[t,o],backgroundColor:"rgba(54, 162, 235, 0.8)"}]}}},data(){return{chartOptions:{animation:{duration:2e3},responsive:!0,maintainAspectRatio:!1,categoryPercentage:.6,barPercentage:1,layout:{padding:{top:20}},plugins:{legend:{display:!1},tooltip:{enabled:!1},datalabels:{display:!0,color:"#888",anchor:"end",align:"end",offset:2,clamp:!0,font:{family:"Roboto, sans-serif",size:8,weight:"bold"},formatter:function(e){return e.toLocaleString()}}},scales:{x:{ticks:{font:{family:"'Roboto', 'Arial', sans-serif",size:12,weight:"bold"},color:"#888"},stacked:!1,grid:{display:!1}},y:{display:!1,ticks:{display:!1,font:{family:"'Roboto', 'Arial', sans-serif",size:12,weight:"bold"},color:"#aaa"},beginAtZero:!0,grid:{display:!0}}}}}}},Jt=(0,w.A)(zt,[["render",Xt]]),$t=Jt;var qt=r(536);const Kt={name:"ResultModule",components:{ClinVarVizualiser:$t,CountUp:qt.A},watch:{results(e){e&&e.length>0&&this.scrollToResults(),0===this.originalResults.length&&(this.originalResults=[...e])}},data(){return{showTooltipData:{names:[],category:null,x:0,y:0},originalResults:[],sortDirection:"default",displayVersion:"v2",isScrolled:!1,deltaTooltip:{visible:!1,text:"",x:0,y:0}}},methods:{formatCategory(e){let t="";return t=e.replace("_phenotype",""),t=t.replace(/_/g," "),t=t.charAt(0).toUpperCase()+t.slice(1),t},getConstraintColor(e,t){const r=parseFloat(e.replace(",","."));if("LOEUF"===t||"MOEUF"===t){const e=[{max:.26,color:"bg-red-300"},{max:.41,color:"bg-red-200"},{max:.48,color:"bg-orange-200"},{max:.55,color:"bg-yellow-200"}];for(const{max:t,color:o}of e)if(r<=t)return o;return"text-black"}return"pLI"===t&&r>.97?"bg-red-300":"text-black"},getPercentage(e,t){return 0===t?"0":(e/t*100).toFixed(2)},toggleVersion(){this.displayVersion="v2"===this.displayVersion?"v4":"v2"},showTooltip(e,t){t.target.getBoundingClientRect();e.showTooltip=!0,e.tooltipX=0,e.tooltipY=0},scrollToResults(){const e=document.getElementById("searchResults");if(e){e.scrollIntoView({behavior:"smooth",block:"start"});const t=45,r=e.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:r-t,behavior:"smooth"})}},getDashOffset(e){const t=3e4,r=Math.min(e/t,1),o=2*Math.PI*25;return o*(1-r)},getColor(e){return e<1?"lightGrey":e<10?"rgb(251 147 147)":e<100?"rgb(128 166 243)":e>100?"grey":"red"},getValidityColor(e){return"Definitive"===e?"bg-green-700":"Strong"===e?"bg-green-500":"Moderate"===e?"bg-green-400":"Supportive"===e?"bg-blue-300":"Limited"===e?"bg-red-500":"Disputed Evidence"===e?"bg-red-600":"Refuted"===e?"bg-red-900":"Animal"===e?"bg-orange-300":"No Known"===e||"No Known Disease Relationship"===e?"bg-gray-500":void 0},sortByPubMedCount(){this.sortDirection="default"===this.sortDirection?"asc":"asc"===this.sortDirection?"desc":"default","default"===this.sortDirection?this.results.splice(0,this.results.length,...this.originalResults):"asc"===this.sortDirection?this.results.sort(((e,t)=>e.count-t.count)):"desc"===this.sortDirection&&this.results.sort(((e,t)=>t.count-e.count))},formatConstraint(e,t){const r=parseFloat(e.replace(",","."));for(const{max:o,color:a}of t)if(r<=o)return a;return"black"},hideTooltip(e){e.showTooltip=!1},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){this.isScrolled=window.scrollY>500}},props:{results:{type:Array,default:()=>[]}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)}},Wt=(0,w.A)(Kt,[["render",Zt]]),Qt=Wt,Yt={name:"SearchModule",components:{SearchBuildingModule:Te,ResultModule:Qt},mounted(){const e=sessionStorage.getItem("results");if(e)try{const t=JSON.parse(e);this.searchResults=t.results||[]}catch(t){console.error("Error parsing saved results:",t)}},props:{genes:{type:Array,default:()=>[]},phenotypes:{type:Array,default:()=>[]}},data(){return{searchResults:[]}},methods:{handleSearchComplete(e){this.searchResults=e,sessionStorage.setItem("results",JSON.stringify(e))}}},er=(0,w.A)(Yt,[["render",se]]),tr=er,rr={name:"HomePage",components:{SearchModule:tr}},or=(0,w.A)(rr,[["render",oe]]),ar=or,sr={class:"relative mx-20 mt-16 drop-shadow"},lr={class:"overflow-hidden rounded-xl"},nr={class:"flex justify-center space-x-2 mt-32"},ir=["onClick"];function dr(e,t,r,o,s,l){return(0,a.uX)(),(0,a.CE)("div",sr,[(0,a.Lk)("div",lr,[(0,a.Lk)("div",{class:"flex transition-transform duration-700 ease-in-out",ref:"carousel",onWheel:t[0]||(t[0]=(...e)=>l.handleScroll&&l.handleScroll(...e)),style:(0,i.Tr)({transform:`translateX(-${100*s.currentSlide}%)`})},t[3]||(t[3]=[(0,a.Fv)('<div class="flex flex-col justify-center items-start w-full flex-shrink-0"><h1 class="text-4xl font-extrabold text-gray-700 font-noto">A smarter way to decode.</h1><p class="font-noto text-xl text-gray-600">PubMatcher is an advanced genomic search platform designed to integrate biological databases and APIs,<br> streamlining the process of genetic data interpretation.</p><div class="flex flex-row justify-between w-full pt-24 px-32 py-10"><div class="pl-2 py-2 px-2"><div class="w-16 h-16 bg-blue-600 flex items-center justify-center rounded-lg"><svg class="w-8 h-8 text-white dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.041 13.862A4.999 4.999 0 0 1 17 17.831V21M7 3v3.169a5 5 0 0 0 1.891 3.916M17 3v3.169a5 5 0 0 1-2.428 4.288l-5.144 3.086A5 5 0 0 0 7 17.831V21M7 5h10M7.399 8h9.252M8 16h8.652M7 19h10"></path></svg></div><p class="font-noto text-2xl text-gray-600 font-bold pl-1 py-3">Genomic research</p><ul class="space-y-2"><li class="flex items-center"><svg class="w-6 h-6 text-blue-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">Constraints Verification</p></li><li class="flex items-center"><svg class="w-6 h-6 text-blue-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">Scientific Publications</p></li><li class="flex items-center"><svg class="w-6 h-6 text-blue-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">Protein Functions</p></li><li class="flex items-center"><svg class="w-6 h-6 text-blue-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">Mouse Phenotypes</p></li><li class="flex items-center"><svg class="w-6 h-6 text-blue-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">Genes Panels</p></li></ul></div><div class="pl-2 py-2 px-2"><div class="w-16 h-16 bg-green-500 flex items-center justify-center rounded-lg"><svg class="w-6 h-6 text-white dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 7.205c4.418 0 8-1.165 8-2.602C20 3.165 16.418 2 12 2S4 3.165 4 4.603c0 1.437 3.582 2.602 8 2.602ZM12 22c4.963 0 8-1.686 8-2.603v-4.404c-.052.032-.112.06-.165.09a7.75 7.75 0 0 1-.745.387c-.193.088-.394.173-.6.253-.063.024-.124.05-.189.073a18.934 18.934 0 0 1-6.3.998c-2.135.027-4.26-.31-6.3-.998-.065-.024-.126-.05-.189-.073a10.143 10.143 0 0 1-.852-.373 7.75 7.75 0 0 1-.493-.267c-.053-.03-.113-.058-.165-.09v4.404C4 20.315 7.037 22 12 22Zm7.09-13.928a9.91 9.91 0 0 1-.6.253c-.063.025-.124.05-.189.074a18.935 18.935 0 0 1-6.3.998c-2.135.027-4.26-.31-6.3-.998-.065-.024-.126-.05-.189-.074a10.163 10.163 0 0 1-.852-.372 7.816 7.816 0 0 1-.493-.268c-.055-.03-.115-.058-.167-.09V12c0 .917 3.037 2.603 8 2.603s8-1.686 8-2.603V7.596c-.052.031-.112.059-.165.09a7.816 7.816 0 0 1-.745.386Z"></path></svg></div><p class="font-noto text-2xl text-gray-600 font-bold pl-1 py-3">Robust databases</p><ul class="space-y-2"><li class="flex items-center"><svg class="w-6 h-6 text-green-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">HGNC</p></li><li class="flex items-center"><svg class="w-6 h-6 text-green-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">GeneCC</p></li><li class="flex items-center"><svg class="w-6 h-6 text-green-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">UniProt</p></li><li class="flex items-center"><svg class="w-6 h-6 text-green-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">PanelAPP</p></li><li class="flex items-center"><svg class="w-6 h-6 text-green-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">MGI</p></li></ul></div><div class="pl-2 py-2 px-2"><div class="w-16 h-16 bg-purple-600 flex items-center justify-center rounded-lg"><svg class="w-6 h-6 text-white dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-1.5 8a4 4 0 0 0-4 4 2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-3Zm6.82-3.096a5.51 5.51 0 0 0-2.797-6.293 3.5 3.5 0 1 1 2.796 6.292ZM19.5 18h.5a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-1.1a5.503 5.503 0 0 1-.471.762A5.998 5.998 0 0 1 19.5 18ZM4 7.5a3.5 3.5 0 0 1 5.477-2.889 5.5 5.5 0 0 0-2.796 6.293A3.501 3.501 0 0 1 4 7.5ZM7.1 12H6a4 4 0 0 0-4 4 2 2 0 0 0 2 2h.5a5.998 5.998 0 0 1 3.071-5.238A5.505 5.505 0 0 1 7.1 12Z" clip-rule="evenodd"></path></svg></div><p class="font-noto text-2xl text-gray-600 font-bold pl-1 py-3">Collaborative tools</p><ul class="space-y-2"><li class="flex items-center"><svg class="w-6 h-6 text-purple-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">Gene marking</p></li><li class="flex items-center"><svg class="w-6 h-6 text-purple-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">Publication flagging</p></li><li class="flex items-center"><svg class="w-6 h-6 text-purple-600 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z" clip-rule="evenodd"></path></svg><p class="font-noto text-xl pl-3 text-gray-500">More coming soon</p></li></ul></div></div></div><div class="flex flex-col justify-center items-center w-full flex-shrink-0"></div><div class="flex flex-col justify-center items-start w-full flex-shrink-0"><div class="text-4xl font-extrabold text-gray-700 font-noto"> Slide 3 </div><p class="font-noto text-xl text-gray-600"> This is the third slide. You can replace this with your content. </p></div>',3)]),36)]),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.prevSlide&&l.prevSlide(...e)),class:"absolute invisible top-1/2 left-2 transform -translate-y-1/2 bg-gray-800 p-2 rounded-full text-white hover:bg-gray-800"},t[4]||(t[4]=[(0,a.Lk)("svg",{class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14 8-4 4 4 4"})],-1)])),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.nextSlide&&l.nextSlide(...e)),class:"absolute invisible top-1/2 right-2 transform -translate-y-1/2 bg-gray-800 p-2 rounded-full text-white hover:bg-gray-800"},t[5]||(t[5]=[(0,a.Lk)("svg",{class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m10 16 4-4-4-4"})],-1)])),(0,a.Lk)("div",nr,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.totalSlides,((e,t)=>((0,a.uX)(),(0,a.CE)("span",{key:t,onClick:e=>l.goToSlide(t),class:(0,i.C4)([{"bg-gray-700":s.currentSlide===t,"bg-gray-300":s.currentSlide!==t},"w-3 h-3 rounded-full cursor-pointer"])},null,10,ir)))),128))])])}const cr={data(){return{currentSlide:0,totalSlides:3,isScrolling:!1}},methods:{nextSlide(){this.currentSlide=(this.currentSlide+1)%this.totalSlides},prevSlide(){this.currentSlide=(this.currentSlide-1+this.totalSlides)%this.totalSlides},goToSlide(e){this.currentSlide=e},handleScroll(e){this.isScrolling||(this.isScrolling=!0,e.deltaY>0?this.currentSlide=Math.min(this.currentSlide+1,this.totalSlides-1):this.currentSlide=Math.max(this.currentSlide-1,0),this.scrollToSlide(this.currentSlide),setTimeout((()=>{this.isScrolling=!1}),500))},scrollToSlide(e){const t=this.$refs.carousel,r=t.offsetWidth;t.scrollTo({left:e*r,behavior:"smooth"})}}},ur=(0,w.A)(cr,[["render",dr]]),gr=ur,pr={class:"contact-page"},hr={class:"contact py-10 px-6 text-center"},mr={class:"team-members flex flex-wrap justify-center gap-8"},fr={class:"text-lg font-semibold text-gray-900 mb-2"},xr={class:"social-links flex justify-center space-x-4 mt-4"},yr=["href"],br=["href"];function kr(e,t,r,o,s,l){return(0,a.uX)(),(0,a.CE)("div",pr,[(0,a.Lk)("div",hr,[t[2]||(t[2]=(0,a.Fv)('<p class="text-lg text-gray-700 mb-10" data-v-12f11cdd> For inquiries, please contact us at: <a href="mailto:admin@pubmatcher.fr" class="text-blue-600 hover:underline font-semibold" data-v-12f11cdd> admin@pubmatcher.fr </a></p><div class="team-members flex justify-center mt-10" data-v-12f11cdd><div class="team-member bg-white shadow-lg rounded-lg p-6 w-64 text-center" data-v-12f11cdd><div class="flex justify-center mb-4" data-v-12f11cdd><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo" class="h-16 w-16" data-v-12f11cdd></div><p class="text-sm text-gray-700 mb-4" data-v-12f11cdd> Explore and contribute to the PubMatcher project on GitHub. </p><a href="https://github.com/victormar1/PubMatcher" target="_blank" class="text-white bg-blue-600 hover:bg-blue-700 py-2 px-4 rounded-lg font-medium text-lg transition duration-200" data-v-12f11cdd> Visit GitHub </a></div></div><p class="text-2xl font-bold text-gray-800 mt-12 mb-6" data-v-12f11cdd>The Team</p>',3)),(0,a.Lk)("div",mr,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.teamMembers,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"team-member bg-white shadow-lg rounded-lg p-6 w-64 text-center",key:e.name},[(0,a.Lk)("h3",fr,(0,i.v_)(e.name),1),(0,a.Lk)("div",xr,[e.linkedin?((0,a.uX)(),(0,a.CE)("a",{key:0,href:e.linkedin,target:"_blank",class:"text-gray-500 hover:text-blue-600"},t[0]||(t[0]=[(0,a.Lk)("i",{class:"fab fa-linkedin fa-2x"},null,-1)]),8,yr)):(0,a.Q3)("",!0),e.github?((0,a.uX)(),(0,a.CE)("a",{key:1,href:e.github,target:"_blank",class:"text-gray-500 hover:text-black"},t[1]||(t[1]=[(0,a.Lk)("i",{class:"fab fa-github fa-2x"},null,-1)]),8,br)):(0,a.Q3)("",!0)])])))),128))])])])}const wr={name:"ContactPage",data(){return{teamMembers:[{name:"Victor Marin",linkedin:"https://www.linkedin.com/in/victor-marin-033a29257/",github:"https://github.com/victormar1"},{name:"Hugo Lannes",linkedin:"https://www.linkedin.com/in/hugo-lannes/",github:"https://github.com/HugoLannes"},{name:"Victor Dumont",linkedin:"https://www.linkedin.com/in/victor-dumont-108183165/",github:"https://github.com/victorDumont"},{name:"Louis Lebreton",linkedin:"https://www.linkedin.com/in/louis-lebreton-749839197/"}]}}},vr=(0,w.A)(wr,[["render",kr],["__scopeId","data-v-12f11cdd"]]),Lr=vr,Cr={class:"bg-white dark:bg-gray-900"},Sr={class:"container flex items-center px-6 py-12 mt-24 mx-auto"},Mr={class:"flex flex-col items-center max-w-sm mx-auto text-center"},Er={class:"flex items-center w-full mt-6 gap-x-3 shrink-0 sm:w-auto"};function Ir(e,t,r,o,s,l){return(0,a.uX)(),(0,a.CE)("section",Cr,[(0,a.Lk)("div",Sr,[(0,a.Lk)("div",Mr,[t[2]||(t[2]=(0,a.Lk)("img",{class:"imgLogo",src:"images/pmlogo.svg",alt:""},null,-1)),t[3]||(t[3]=(0,a.Lk)("h1",{class:"mt-3 text-2xl font-semibold text-gray-800 dark:text-white md:text-3xl"}," Page not found ",-1)),t[4]||(t[4]=(0,a.Lk)("p",{class:"mt-4 text-gray-500 dark:text-gray-400"}," The page you are looking for doesn't exist. Here are some helpful links: ",-1)),(0,a.Lk)("div",Er,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.goHome&&l.goHome(...e)),class:"flex items-center justify-center w-1/2 px-5 py-2 text-sm text-gray-700 transition-colors duration-200 bg-white border rounded-lg gap-x-2 sm:w-auto dark:hover:bg-gray-800 dark:bg-gray-900 hover:bg-gray-100 dark:text-gray-200 dark:border-gray-700"},t[1]||(t[1]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 rtl:rotate-180"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),(0,a.Lk)("span",null,"Go back Home",-1)]))])])])])}const _r={name:"PageNotFound",methods:{goHome(){this.$router.push({path:"/"})}}},Ar=(0,w.A)(_r,[["render",Ir]]),Pr=Ar,jr={class:"flex flex-col items-center justify-center px-6 py-20 mx-auto"},Tr={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},Dr={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},Br={class:"flex justify-between items-center"},Fr={key:0,class:"text-sm font-medium text-red-500 dark:text-gray-400"},Vr={class:"text-sm font-light text-gray-500 dark:text-gray-400"};function Or(e,t,r,s,l,n){return(0,a.uX)(),(0,a.CE)("div",jr,[(0,a.Lk)("div",Tr,[(0,a.Lk)("div",Dr,[t[9]||(t[9]=(0,a.Lk)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Log in to your account ",-1)),(0,a.Lk)("form",{class:"space-y-4 md:space-y-6",action:"#",onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[5]||(t[5]=(0,a.Lk)("label",{for:"username",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Username",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.username=e),type:"username",name:"username",id:"username",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Username",required:""},null,512),[[o.Jo,l.formData.username]])]),(0,a.Lk)("div",null,[t[6]||(t[6]=(0,a.Lk)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Password",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.password=e),type:"password",name:"password",id:"password",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,l.formData.password]])]),(0,a.Lk)("div",Br,[(0,a.Lk)("a",{href:"#",onClick:t[2]||(t[2]=(0,o.D$)(((...e)=>n.goToForgotPassword&&n.goToForgotPassword(...e)),["prevent"])),class:"text-sm font-medium text-primary-600 hover:underline dark:text-primary-500"},"Forgot password?"),l.errorData.error?((0,a.uX)(),(0,a.CE)("p",Fr,(0,i.v_)(l.errorData.error),1)):(0,a.Q3)("",!0)]),t[8]||(t[8]=(0,a.Lk)("button",{type:"submit",class:"w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"},"Sign in",-1)),(0,a.Lk)("p",Vr,[t[7]||(t[7]=(0,a.eW)(" Donât have an account yet? ")),(0,a.Lk)("a",{href:"#",onClick:t[3]||(t[3]=(0,o.D$)(((...e)=>n.SendToRegister&&n.SendToRegister(...e)),["prevent"])),class:"font-medium text-primary-600 hover:underline dark:text-primary-500"},"Sign up")])],32)])])])}const Rr={name:"LoginPage",data(){return{formData:{username:"",password:""},errorData:{error:""}}},mounted(){const e=localStorage.getItem("token");e&&this.$router.push("/account")},methods:{SendToRegister(){this.$router.push("/register")},async login(){try{const e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.formData)});if(e.ok){const t=await e.json();y(t.user.id,t.user.username,t.user.email,t.user.institute,t.user.role,t.token),this.$router.push("/account")}else{const t=await e.json();this.errorData.error=t.error||"Unknown error occurred. Please try again."}}catch(e){console.error("Error during login:",e),alert("Failed to log in. Please try again.")}},goToForgotPassword(){this.$router.push("/forgot-password")}}},Gr=(0,w.A)(Rr,[["render",Or]]),Zr=Gr,Xr={class:"flex flex-col items-center justify-center px-6 py-20 mx-auto"},Hr={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 max-w-2xl xl:p-0 dark:bg-gray-800 dark:border-gray-700"},Ur={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},Nr={class:"flex flex-row justify-between"},zr={class:"w-1/2 pr-2"},Jr={class:"w-1/2 pl-2"},$r={class:"flex flex-row justify-between"},qr={class:"text-sm font-light text-gray-500 dark:text-gray-400"},Kr={key:0,class:"text-sm font-medium text-red-500 dark:text-gray-400 text-right w-1/2"},Wr={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Qr={class:"bg-white rounded-lg shadow-lg w-96 p-6 text-center flex flex-col items-center justify-center"},Yr={class:"flex justify-center gap-4"};function eo(e,t,r,s,l,n){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",Xr,[(0,a.Lk)("div",Hr,[(0,a.Lk)("div",Ur,[t[16]||(t[16]=(0,a.Lk)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Create an account ",-1)),(0,a.Lk)("form",{class:"space-y-4 md:space-y-6",action:"#",onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>n.createAccount&&n.createAccount(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[8]||(t[8]=(0,a.Lk)("label",{for:"username",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Username",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.username=e),type:"username",name:"username",id:"username",placeholder:"Username",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,l.formData.username]])]),(0,a.Lk)("div",null,[t[9]||(t[9]=(0,a.Lk)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Password",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.password=e),type:"password",name:"password",id:"password",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,l.formData.password]])]),(0,a.Lk)("div",Nr,[(0,a.Lk)("div",zr,[t[10]||(t[10]=(0,a.Lk)("label",{for:"institute",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Institute",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.institute=e),type:"institute",name:"institute",id:"institute",placeholder:"CHU bordeaux",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[o.Jo,l.formData.institute]])]),(0,a.Lk)("div",Jr,[(0,a.Lk)("form",null,[t[12]||(t[12]=(0,a.Lk)("label",{for:"role",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Role/Position",-1)),(0,a.bo)((0,a.Lk)("select",{id:"role","onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.role=e),class:"bg-gray-50 border outline-none focus:outline-none border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"},t[11]||(t[11]=[(0,a.Fv)('<option value="Clinical Geneticist">Clinical Geneticist</option><option value="Molecular Biologist">Molecular Biologist</option><option value="Genetic Counselor">Genetic Counselor</option><option value="Bioinformatician">Bioinformatician</option><option value="Oncologist">Oncologist</option><option value="Pediatric Geneticist">Pediatric Geneticist</option><option value="Reproductive Specialist">Reproductive Specialist</option><option value="Pharmacogeneticist">Pharmacogeneticist</option><option value="Laboratory Technician">Laboratory Technician</option><option value="Medical Research Scientist">Medical Research Scientist</option>',10)]),512),[[o.u1,l.formData.role]])])])]),(0,a.Lk)("div",null,[t[13]||(t[13]=(0,a.Lk)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.formData.email=e),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@chu-bordeaux.com"},null,512),[[o.Jo,l.formData.email]])]),t[15]||(t[15]=(0,a.Lk)("button",{type:"submit",class:"w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"},"Create an account",-1)),(0,a.Lk)("div",$r,[(0,a.Lk)("p",qr,[t[14]||(t[14]=(0,a.eW)(" Already have an account? ")),(0,a.Lk)("a",{href:"#",onClick:t[5]||(t[5]=(...t)=>e.SendToLogin&&e.SendToLogin(...t)),class:"font-medium text-primary-600 hover:underline dark:text-primary-500"},"Login here")]),l.errorData.error?((0,a.uX)(),(0,a.CE)("p",Kr,(0,i.v_)(l.errorData.error),1)):(0,a.Q3)("",!0)])],32)])])]),l.loginSuccess?((0,a.uX)(),(0,a.CE)("div",Wr,[(0,a.Lk)("div",Qr,[t[17]||(t[17]=(0,a.Lk)("svg",{class:"size-12 text-green-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),t[18]||(t[18]=(0,a.Lk)("p",{class:"text-gray-600 mb-6 mt-4"},"Your account has been successfully created.",-1)),(0,a.Lk)("div",Yr,[(0,a.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.confirm&&n.confirm(...e)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none"}," Log In ")])])])):(0,a.Q3)("",!0)],64)}const to={name:"RegisterPage",data(){return{formData:{username:"",password:"",institute:"",email:"",role:"Clinical Geneticist"},errorData:{error:""},loginSuccess:!1}},methods:{async createAccount(){try{const e=await fetch("api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.formData)});if(e.ok)(0,U.f0)("account_created",{event_category:"user_interaction",event_label:"account_created",debug_mode:!0}),this.showLogInSuccessModal();else{const t=await e.json();this.errorData.error=t.error||"Unknown error occurred. Please try again."}}catch(e){console.error(e),alert("Failed to create account. Please try again.")}},showLogInSuccessModal(){this.loginSuccess=!0},confirm(){this.loginSuccess=!1,this.$router.push("/login")},cancel(){this.loginSuccess=!1}}},ro=(0,w.A)(to,[["render",eo]]),oo=ro,ao={class:"bg-white py-8 antialiased dark:bg-gray-900 md:py-8"},so={class:"mx-auto max-w-screen-lg px-4 2xl:px-0"},lo={class:"py-4 md:py-8"},no={class:"mb-4 grid gap-4 sm:grid-cols-2 sm:gap-8 lg:gap-16"},io={class:"space-y-4"},co={class:"flex space-x-4 items-center"},uo={class:"text-xl font-bold leading-none text-gray-900 dark:text-white sm:text-2xl"},go={class:"text-gray-500 dark:text-gray-400"},po={class:"space-y-4"},ho={class:"text-gray-500 dark:text-gray-400"},mo={class:"text-gray-500 dark:text-gray-400"},fo={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800 md:p-8 shadow-sm"},xo={class:"overflow-auto max-h-96"},yo={key:0},bo=["onClick"],ko=["href"],wo={class:"space-x-2"},vo={class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-blue-300 rounded-md dark:bg-gray-600"},Lo={class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-red-300 rounded-md dark:bg-gray-600"},Co={class:"mt-2 p-4 text-gray-500 bg-gray-50 border border-gray-200 rounded-lg dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"},So={class:"flex flex-wrap gap-2"},Mo={class:"mt-4"},Eo={class:"flex flex-wrap gap-2"},Io={key:1,class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-red-300 rounded-md dark:bg-gray-600"},_o={key:1},Ao={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Po={class:"bg-white rounded-lg shadow-lg w-96 p-6 text-center"},jo={class:"flex justify-center gap-4"};function To(e,t,r,s,l,n){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("section",ao,[(0,a.Lk)("div",null,[l.isScrolled?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>n.scrollToTop&&n.scrollToTop(...e)),class:"fixed bottom-20 right-1 p-3 z-50 bg-gray-800 text-white rounded-full hover:bg-gray-600"},t[4]||(t[4]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1)]))):(0,a.Q3)("",!0)]),(0,a.Lk)("div",so,[(0,a.Lk)("div",lo,[(0,a.Lk)("div",no,[(0,a.Lk)("div",io,[(0,a.Lk)("div",co,[t[5]||(t[5]=(0,a.Lk)("img",{class:"h-16 w-16 rounded-lg",src:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png?20150327203541",alt:"Helene avatar"},null,-1)),(0,a.Lk)("div",null,[(0,a.Lk)("h2",uo,(0,i.v_)(n.username),1)])]),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.showLogoutModal&&n.showLogoutModal(...e)),class:"w-30 text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"}," Logout "),(0,a.Lk)("dl",null,[t[6]||(t[6]=(0,a.Lk)("dt",{class:"font-semibold text-gray-900 dark:text-white"},"Email Address",-1)),(0,a.Lk)("dd",go,(0,i.v_)(n.email),1)])]),(0,a.Lk)("div",po,[(0,a.Lk)("dl",null,[t[7]||(t[7]=(0,a.Lk)("dt",{class:"font-semibold text-gray-900 dark:text-white"},"Institute",-1)),(0,a.Lk)("dd",ho,(0,i.v_)(n.institute),1)]),(0,a.Lk)("dl",null,[t[8]||(t[8]=(0,a.Lk)("dt",{class:"mb-1 font-semibold text-gray-900 dark:text-white"},"Role/Position",-1)),(0,a.Lk)("dd",mo,(0,i.v_)(n.role),1)])])])]),(0,a.Lk)("div",fo,[t[12]||(t[12]=(0,a.Lk)("h3",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Research History",-1)),(0,a.Lk)("div",xo,[l.history.length?((0,a.uX)(),(0,a.CE)("ul",yo,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.history,((e,r)=>((0,a.uX)(),(0,a.CE)("li",{key:r,class:"mb-4"},[(0,a.Lk)("button",{onClick:e=>n.toggleAccordion(r),class:"flex w-full items-center justify-between p-4 font-medium text-gray-500 rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-gray-400 focus:outline-none"},[(0,a.Lk)("span",null,[(0,a.Lk)("a",{href:`/search?genes=${e.genes.split(",").join(",")}&phenotypes=${e.phenotypes.split(",").join(",")}`,class:"text-blue-600 hover:underline"},(0,i.v_)(n.formatDate(e.timestamp)),9,ko)]),(0,a.Lk)("div",wo,[(0,a.Lk)("span",vo,(0,i.v_)(e.genes.split(",").length)+" Genes ",1),(0,a.Lk)("span",Lo,(0,i.v_)(e.phenotypes?e.phenotypes.split(",").length:0)+" Phenotypes ",1)]),((0,a.uX)(),(0,a.CE)("svg",{class:(0,i.C4)([{"rotate-180":l.accordionState[r]},"w-4 h-4 transition-transform"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[9]||(t[9]=[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],8,bo),(0,a.bo)((0,a.Lk)("div",Co,[(0,a.Lk)("div",null,[t[10]||(t[10]=(0,a.Lk)("p",{class:"mb-2 font-semibold"},[(0,a.Lk)("strong",null,"Genes:")],-1)),(0,a.Lk)("div",So,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.genes.split(","),((e,t)=>((0,a.uX)(),(0,a.CE)("span",{key:t,class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-blue-300 rounded-md dark:bg-blue-600"},(0,i.v_)(e),1)))),128))])]),(0,a.Lk)("div",Mo,[t[11]||(t[11]=(0,a.Lk)("p",{class:"mb-2 font-semibold"},[(0,a.Lk)("strong",null,"Phenotypes:")],-1)),(0,a.Lk)("div",Eo,[e.phenotypes?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.phenotypes.split(","),((e,t)=>((0,a.uX)(),(0,a.CE)("span",{key:t,class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-red-300 rounded-md dark:bg-green-600"},(0,i.v_)(e),1)))),128)):((0,a.uX)(),(0,a.CE)("span",Io," No phenotypes "))])])],512),[[o.aG,l.accordionState[r]]])])))),128))])):((0,a.uX)(),(0,a.CE)("p",_o,"No history found."))])])])]),l.logoutModalVisible?((0,a.uX)(),(0,a.CE)("div",Ao,[(0,a.Lk)("div",Po,[t[13]||(t[13]=(0,a.Lk)("h2",{class:"text-xl font-bold mb-4"},"Are you sure?",-1)),t[14]||(t[14]=(0,a.Lk)("p",{class:"text-gray-600 mb-6"},"You'll be logged out.",-1)),(0,a.Lk)("div",jo,[(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.confirm&&n.confirm(...e)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none"}," Yes, I'm Sure "),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.cancel&&n.cancel(...e)),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none"}," Cancel ")])])])):(0,a.Q3)("",!0)],64)}const Do={name:"AccountPage",data(){return{logoutModalVisible:!1,history:[],accordionState:[],isScrolled:!1}},async mounted(){await this.fetchUserHistory(),window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},computed:{username(){return x.username},email(){return x.email},institute(){return x.institute},role(){return x.role}},methods:{showLogoutModal(){this.logoutModalVisible=!0},confirm(){this.logoutModalVisible=!1,b(),this.$router.push("/login")},cancel(){this.logoutModalVisible=!1},async fetchUserHistory(){try{const e=await fetch("api/getuserhistory",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();this.history=t.history,this.accordionState=Array(t.history.length).fill(!1)}catch(e){console.error("Error fetching user history:",e)}},toggleAccordion(e){this.accordionState[e]=!this.accordionState[e]},formatDate(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"}).format(t)},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){this.isScrolled=window.scrollY>500}}},Bo=(0,w.A)(Do,[["render",To]]),Fo=Bo,Vo={class:"flex flex-col items-center justify-center px-6 py-20 mx-auto"},Oo={class:"w-full bg-white rounded-lg shadow dark:border sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},Ro={class:"p-6 space-y-4 sm:p-8"},Go={key:0,class:"text-sm font-light text-gray-500 dark:text-gray-400"};function Zo(e,t,r,s,l,n){return(0,a.uX)(),(0,a.CE)("div",Vo,[(0,a.Lk)("div",Oo,[(0,a.Lk)("div",Ro,[t[4]||(t[4]=(0,a.Lk)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Forgot Password ",-1)),(0,a.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)(((...e)=>n.sendResetEmail&&n.sendResetEmail(...e)),["prevent"])),class:"space-y-4"},[(0,a.Lk)("div",null,[t[2]||(t[2]=(0,a.Lk)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Enter your email ",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),type:"email",id:"email",placeholder:"example@domain.com",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,l.email]])]),t[3]||(t[3]=(0,a.Lk)("button",{type:"submit",class:"w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"}," Send Reset Email ",-1)),l.message?((0,a.uX)(),(0,a.CE)("p",Go,(0,i.v_)(l.message),1)):(0,a.Q3)("",!0)],32)])])])}const Xo={name:"ForgotPasswordPage",data(){return{email:"",message:""}},methods:{async sendResetEmail(){try{const e=await fetch("/api/sendPwResetMail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email})});if(e.ok)this.message="Reset email sent! Please check your inbox.";else{const t=await e.json();this.message=t.error||"Error sending reset email."}}catch(e){console.error("Error sending reset email:",e),this.message="Failed to send reset email. Please try again."}}}},Ho=(0,w.A)(Xo,[["render",Zo]]),Uo=Ho,No={class:"flex flex-col items-center justify-center px-6 py-20 mx-auto"},zo={class:"w-full bg-white rounded-lg shadow dark:border sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},Jo={class:"p-6 space-y-4 sm:p-8"},$o={key:0,class:"text-sm font-light text-gray-500 dark:text-gray-400"};function qo(e,t,r,s,l,n){return(0,a.uX)(),(0,a.CE)("div",No,[(0,a.Lk)("div",zo,[(0,a.Lk)("div",Jo,[t[6]||(t[6]=(0,a.Lk)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Reset Password ",-1)),(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>n.resetPassword&&n.resetPassword(...e)),["prevent"])),class:"space-y-4"},[(0,a.Lk)("div",null,[t[3]||(t[3]=(0,a.Lk)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," New Password ",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.password=e),type:"password",id:"password",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,l.password]])]),(0,a.Lk)("div",null,[t[4]||(t[4]=(0,a.Lk)("label",{for:"confirmPassword",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Confirm Password ",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.confirmPassword=e),type:"password",id:"confirmPassword",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,l.confirmPassword]])]),t[5]||(t[5]=(0,a.Lk)("button",{type:"submit",class:"w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"}," Reset Password ",-1)),l.message?((0,a.uX)(),(0,a.CE)("p",$o,(0,i.v_)(l.message),1)):(0,a.Q3)("",!0)],32)])])])}const Ko={props:["token"],data(){return{password:"",confirmPassword:"",message:""}},methods:{async resetPassword(){if(this.password===this.confirmPassword)try{const e=await fetch("/api/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token,password:this.password})});if(e.ok)this.message="Password reset successfully! Redirecting to login...",setTimeout((()=>this.$router.push("/login")),3e3);else{const t=await e.json();this.message=t.error||"An error occurred while resetting your password."}}catch(e){console.error("Error resetting password:",e),this.message="An error occurred. Please try again."}else this.message="Passwords do not match."}}},Wo=(0,w.A)(Ko,[["render",qo]]),Qo=Wo;function Yo(){const e=localStorage.getItem("token");return!!e}const ea=[{path:"/",component:ar},{path:"/about",component:gr},{path:"/contact",component:Lr},{path:"/search",component:tr,props:e=>({genes:e.query.genes?e.query.genes.split(","):[],phenotypes:e.query.phenotypes?e.query.phenotypes.split(","):[]})},{path:"/login",component:Zr},{path:"/register",component:oo},{path:"/account",component:Fo,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",component:Pr},{path:"/forgot-password",component:Uo},{path:"/reset-password:token",component:Qo,props:!0}],ta=(0,re.aE)({history:(0,re.LA)(),routes:ea});ta.beforeEach(((e,t,r)=>{if(e.meta.requiresAuth&&!Yo())return r("/login");r()}));const ra=ta;var oa=r(241);r(659);(0,o.Ef)(te).use(ra).use(U.Ay,{config:{id:"G-PGNGTTRTN2"},debug_mode:!0},ra).use(oa.Ay).mount("#app")}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.m=e,(()=>{var e=[];r.O=(t,o,a,s)=>{if(!o){var l=1/0;for(c=0;c<e.length;c++){for(var[o,a,s]=e[c],n=!0,i=0;i<o.length;i++)(!1&s||l>=s)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(n=!1,s<l&&(l=s));if(n){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,a,s]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var a,s,[l,n,i]=o,d=0;if(l.some((t=>0!==e[t]))){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(i)var c=i(r)}for(t&&t(o);d<l.length;d++)s=l[d],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(c)},o=self["webpackChunkpubmed_search"]=self["webpackChunkpubmed_search"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=r.O(void 0,[504],(()=>r(112)));o=r.O(o)})();
//# sourceMappingURL=app.75b0fca9.js.map