(()=>{"use strict";var e={560:(e,t,r)=>{var o=r(751),s=r(641);const a={id:"app",class:"flex flex-col min-h-screen dark:bg-gray-600"},n={class:"flex-grow"};function l(e,t,r,o,l,i){const d=(0,s.g2)("AppHeader"),c=(0,s.g2)("Announcement"),u=(0,s.g2)("PatchNote"),g=(0,s.g2)("router-view"),p=(0,s.g2)("AppFooter");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.bF)(d),(0,s.bF)(c),(0,s.bF)(u),(0,s.Lk)("main",n,[(0,s.bF)(g)]),(0,s.bF)(p)])}var i=r(33);const d={class:"bg-gray-800 py-4 shadow-md min-w-screen"},c={class:"flex justify-between px-4 items-center"},u={class:"flex items-center"},g={class:"flex space-x-4 text-nowrap pl-4"},p={key:0},h={key:1,class:"relative group"};function m(e,t,r,o,a,n){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",d,[(0,s.Lk)("div",c,[(0,s.Lk)("div",u,[(0,s.bF)(l,{to:"/",class:"flex items-center"},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("img",{class:"max-h-12 w-auto object-cover",src:"images/pmlogo.svg",alt:"PubMatcher Logo"},null,-1),(0,s.Lk)("div",{class:"flex flex-row items-baseline space-x-1"},[(0,s.Lk)("h1",{class:"text-5xl font-bold text-white"},"PubMatcher")],-1),(0,s.Lk)("div",{class:"w-24 h-10 justify-end items-end flex"},[(0,s.Lk)("svg",{width:"50",height:"20",viewBox:"0 0 350 163",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M0 81.0262C0 36.2767 36.2767 0 81.0262 0H268.099C312.848 0 349.125 36.2767 349.125 81.0262C349.125 125.776 312.848 162.052 268.099 162.052H81.0262C36.2767 162.052 0 125.776 0 81.0262Z",fill:"url(#paint0_linear_0_1)"}),(0,s.Lk)("path",{d:"M237.058 115.825C232.641 115.825 229.869 113.241 229.869 109.153C229.869 107.978 230.198 106.381 230.809 104.642L249.322 54.2243C251.295 48.7268 254.632 46.1895 259.988 46.1895C265.533 46.1895 268.822 48.6328 270.842 54.1773L289.449 104.642C290.107 106.475 290.342 107.743 290.342 109.153C290.342 113.053 287.382 115.825 283.247 115.825C279.253 115.825 277.139 113.993 275.87 109.576L272.299 98.8626H247.818L244.247 109.435C242.932 113.946 240.817 115.825 237.058 115.825ZM250.92 87.8675H269.01L260.035 60.0978H259.706L250.92 87.8675Z",fill:"url(#paint1_linear_0_1)"}),(0,s.Lk)("path",{d:"M204.295 115.825C199.831 115.825 197.199 113.1 197.199 108.448V58.8758H183.197C179.344 58.8758 176.76 56.6674 176.76 53.0024C176.76 49.3373 179.297 47.1289 183.197 47.1289H225.439C229.292 47.1289 231.829 49.3373 231.829 53.0024C231.829 56.6674 229.245 58.8758 225.439 58.8758H211.39V108.448C211.39 113.1 208.758 115.825 204.295 115.825Z",fill:"url(#paint2_linear_0_1)"}),(0,s.Lk)("path",{d:"M130.027 114.932C125.563 114.932 122.932 112.207 122.932 107.508V54.506C122.932 49.8542 125.563 47.1289 130.027 47.1289H162.26C166.16 47.1289 168.698 49.3373 168.698 53.0024C168.698 56.6674 166.113 58.8758 162.26 58.8758H137.122V75.1805H161.039C164.563 75.1805 166.959 77.248 166.959 80.6311C166.959 84.0142 164.61 86.0816 161.039 86.0816H137.122V103.185H162.26C166.113 103.185 168.698 105.394 168.698 109.059C168.698 112.724 166.16 114.932 162.26 114.932H130.027Z",fill:"url(#paint3_linear_0_1)"}),(0,s.Lk)("path",{d:"M65.5854 114.932C61.1215 114.932 58.4902 112.207 58.4902 107.508V54.506C58.4902 49.8542 61.1215 47.1289 65.5854 47.1289H87.9985C100.732 47.1289 108.72 53.6602 108.72 64.0444C108.72 71.4685 103.175 77.6709 95.9863 78.7516V79.1275C105.196 79.8323 111.962 86.5515 111.962 95.5261C111.962 107.461 102.987 114.932 88.5153 114.932H65.5854ZM72.6805 75.3215H82.8768C90.4418 75.3215 94.7647 71.9853 94.7647 66.2529C94.7647 60.8023 90.9587 57.7011 84.3334 57.7011H72.6805V75.3215ZM72.6805 104.36H84.8973C93.0731 104.36 97.4899 100.883 97.4899 94.3984C97.4899 88.0551 92.9322 84.672 84.5684 84.672H72.6805V104.36Z",fill:"url(#paint4_linear_0_1)"}),(0,s.Lk)("defs",null,[(0,s.Lk)("linearGradient",{id:"paint0_linear_0_1",x1:"174.562",y1:"0",x2:"174.562",y2:"162.052",gradientUnits:"userSpaceOnUse"},[(0,s.Lk)("stop",{"stop-color":"white"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#DDDDDD"})]),(0,s.Lk)("linearGradient",{id:"paint1_linear_0_1",x1:"173.14",y1:"23.3208",x2:"173.14",y2:"138.028",gradientUnits:"userSpaceOnUse"},[(0,s.Lk)("stop",{"stop-color":"#788B99"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#526478"})]),(0,s.Lk)("linearGradient",{id:"paint2_linear_0_1",x1:"173.147",y1:"23.3205",x2:"173.147",y2:"138.027",gradientUnits:"userSpaceOnUse"},[(0,s.Lk)("stop",{"stop-color":"#788B99"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#526478"})]),(0,s.Lk)("linearGradient",{id:"paint3_linear_0_1",x1:"173.141",y1:"23.3205",x2:"173.141",y2:"138.027",gradientUnits:"userSpaceOnUse"},[(0,s.Lk)("stop",{"stop-color":"#788B99"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#526478"})]),(0,s.Lk)("linearGradient",{id:"paint4_linear_0_1",x1:"173.14",y1:"23.3205",x2:"173.14",y2:"138.027",gradientUnits:"userSpaceOnUse"},[(0,s.Lk)("stop",{"stop-color":"#788B99"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#526478"})])])])],-1)]))),_:1})]),(0,s.Lk)("nav",g,[(0,s.bF)(l,{to:"/",class:"text-white hover:text-blue-200 mx-2"},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.eW)("Home")]))),_:1}),(0,s.bF)(l,{to:"/about",class:"text-white hover:text-blue-200 mx-2"},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.eW)("About")]))),_:1}),(0,s.bF)(l,{to:"/contact",class:"text-white hover:text-blue-200 mx-2"},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.eW)("Contact")]))),_:1}),a.authState.isAuthenticated?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.bF)(l,{to:"/account",class:"text-white font-bold hover:text-blue-200 mx-2"},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(a.authState.username),1)])),_:1})])):((0,s.uX)(),(0,s.CE)("div",p,[(0,s.bF)(l,{to:"/login",class:"text-white font-bold hover:text-blue-200 mx-2"},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.eW)("Log In")]))),_:1})]))])])])}var f=r(953);const b=(0,f.Kh)({isAuthenticated:!!localStorage.getItem("token"),id:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).id:"",username:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).username:"",email:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).email:"",institute:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).institute:"",role:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).role:""});function y(e,t,r,o,s,a){b.isAuthenticated=!0,b.username=t,b.email=r,b.institute=o,b.role=s,localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify({id:e,username:t,email:r,institute:o,role:s}))}function k(){b.isAuthenticated=!1,b.username="",b.email="",b.institute="",b.role="",localStorage.removeItem("token"),localStorage.removeItem("user")}const x={data(){return{authState:b,logout:k}}};var w=r(262);const v=(0,w.A)(x,[["render",m]]),L=v,C={class:"bg-gray-800 shadow-md"},S={class:"flex flex-row text-white justify-between h-16 py-4 mx-4"},E={class:"flex items-center"},I={version:"1.0",xmlns:"http://www.w3.org/2000/svg",class:"h-full w-auto max-w-xs md:max-w-sm",style:{fill:"currentColor",color:"white"},viewBox:"0 0 198.000000 167.000000",preserveAspectRatio:"xMidYMid meet"},M={class:"flex items-center"},_={key:0,class:"fixed inset-0 bg-gray-700 bg-opacity-50 flex justify-center items-center"},P={class:"bg-white p-6 rounded-md w-96"},j={class:"block mb-2"},A={class:"block mb-4"},F={class:"flex justify-end space-x-4"};function T(e,t,r,a,n,l){return(0,s.uX)(),(0,s.CE)("div",C,[(0,s.Lk)("footer",S,[t[6]||(t[6]=(0,s.Lk)("div",null,[(0,s.Lk)("img",{class:"h-full w-auto max-w-xs md:max-w-sm pr-4",src:"images/logoCHU.jpg",alt:"Clinic Logo"})],-1)),(0,s.Lk)("div",E,[((0,s.uX)(),(0,s.CE)("svg",I,t[5]||(t[5]=[(0,s.Lk)("g",{transform:"translate(0.000000,167.000000) scale(0.050000,-0.050000)",fill:"currentColor",stroke:"none"},[(0,s.Lk)("path",{d:"..."})],-1)])))]),t[7]||(t[7]=(0,s.Lk)("div",{class:"container flex flex-col mx-auto text-center justify-center"},[(0,s.Lk)("p",null,"Â© 2024 PubMatcher. All rights reserved."),(0,s.Lk)("p",{class:"text-sm"},"Made by Victor Marin")],-1)),(0,s.Lk)("div",M,[(0,s.Lk)("button",{class:"bg-red-500 rounded-md px-4 py-2 text-nowrap font-bold",onClick:t[0]||(t[0]=(...e)=>l.openModal&&l.openModal(...e))}," REPORT A BUG ")])]),n.isModalOpen?((0,s.uX)(),(0,s.CE)("div",_,[(0,s.Lk)("div",P,[t[10]||(t[10]=(0,s.Lk)("h2",{class:"text-lg font-bold mb-4"},"Report a Bug",-1)),(0,s.Lk)("label",j,[t[8]||(t[8]=(0,s.eW)(" Your email: ")),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.bugReport.name=e),type:"text",class:"border p-2 w-full rounded"},null,512),[[o.Jo,n.bugReport.name]])]),(0,s.Lk)("label",A,[t[9]||(t[9]=(0,s.eW)(" Description: ")),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.bugReport.description=e),class:"border p-2 w-full rounded"},null,512),[[o.Jo,n.bugReport.description]])]),(0,s.Lk)("div",F,[(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>l.closeModal&&l.closeModal(...e)),class:"bg-gray-500 text-white rounded-md px-4 py-2"}," Cancel "),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>l.submitBugReport&&l.submitBugReport(...e)),class:"bg-blue-500 text-white rounded-md px-4 py-2"}," Submit ")])])])):(0,s.Q3)("",!0)])}var O=r(505),D=r.n(O);const V={data(){return{isModalOpen:!1,bugReport:{name:"",description:""},isDarkMode:!1}},mounted(){this.isDarkMode="dark"===localStorage.getItem("color-theme")||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches},methods:{openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},async submitBugReport(){try{await D().post("api/reportbug",this.bugReport);alert("Bug report submitted successfully!"),this.closeModal(),this.bugReport={name:"",description:""}}catch(e){console.error("Error submitting bug report:",e),alert("Failed to submit the bug report.")}},toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.isDarkMode?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light"))}}},U=(0,w.A)(V,[["render",T]]),X=U,R={class:"relative"},G={key:0,class:"flex justify-center items-center h-full w-full"},H={key:1,class:"flex justify-center items-center h-full w-full"};function B(e,t,r,o,a,n){return(0,s.uX)(),(0,s.CE)("div",R,[(0,s.Lk)("div",{class:(0,i.C4)(["fixed  top-24 left-0  h-96  w-96 z-30 bg-gray-800 rounded-sm text-white shadow-lg transform transition-transform duration-500 ease-in-out",a.isDrawerOpen?"translate-x-0":"-translate-x-full"])},[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.toggleDrawer&&n.toggleDrawer(...e)),class:"absolute top-1/2 -right-10 h-12 w-12 transform -translate-y-1/2 bg-gray-800 text-white rounded-md shadow-lg focus:outline-none"},[a.isDrawerOpen?((0,s.uX)(),(0,s.CE)("span",H,t[2]||(t[2]=[(0,s.Lk)("svg",{class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm7.707-3.707a1 1 0 0 0-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 1 0 1.414 1.414L12 13.414l2.293 2.293a1 1 0 0 0 1.414-1.414L13.414 12l2.293-2.293a1 1 0 0 0-1.414-1.414L12 10.586 9.707 8.293Z","clip-rule":"evenodd"})],-1)]))):((0,s.uX)(),(0,s.CE)("span",G,t[1]||(t[1]=[(0,s.Lk)("svg",{class:"w-6 h-6 text-white-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11.5c.07 0 .14-.007.207-.021.095.014.193.021.293.021h2a2 2 0 0 0 2-2V7a1 1 0 0 0-1-1h-1a1 1 0 1 0 0 2v11h-2V5a2 2 0 0 0-2-2H5Zm7 4a1 1 0 0 1 1-1h.5a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h.5a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm-6 4a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1ZM7 6a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H7Zm1 3V8h1v1H8Z","clip-rule":"evenodd"})],-1)])))]),t[3]||(t[3]=(0,s.Fv)('<div class="p-4 flex flex-col items-center justify-start h-full"><div class="flex flex-row w-full px-2 justify-between"><h2 class="text-lg font-bold">ChangeLog</h2><h2 class="text-lg font-bold">2.0.1</h2></div><div class="h-0.5 w-full mt-1 bg-gray-100 w-fullfull"></div><p class="mt-10 text-xl font-medium">PubMatcher is evolving!</p><ul class="mt-4 list-disc list-inside text-sm space-y-1 text-gray-200"><li><span class="font-semibold underline">USER ACCOUNTS:</span> Users can now <a href="/register" class="font-bold underline">register</a> and log in to access search history and upcomming features. </li><li><span class="font-semibold underline">ENHANCED DISPLAY:</span> A fresh new layout for an improved user experience. </li><li><span class="font-semibold underline">IMPROVED PERFORMANCE:</span> Faster load times and optimized search queries. </li><li><span class="font-semibold underline">BUG FIXES:</span> Tons of bug have been fixed, data is now more accurate. </li></ul></div>',1))],2)])}var N=r(73);const $={data(){return{isDrawerOpen:!1}},methods:{toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,(0,N.f0)("changelog_read",{event_category:"user_interaction",event_label:"changelog_read",debug_mode:!0})}}},J=(0,w.A)($,[["render",B]]),Z=J,z={key:0,id:"sticky-banner",tabindex:"-1",class:"z-50 flex justify-between w-full p-1 bg-red-500 dark:bg-gray-700 dark:border-gray-600"};function W(e,t,r,o,a,n){return a.bannerVisible?((0,s.uX)(),(0,s.CE)("div",z,t[0]||(t[0]=[(0,s.Fv)('<div class="flex items-center mx-auto"><p class="flex items-center text-sm font-normal text-white dark:text-gray-400"><span class="inline-flex p-1 me-3 bg-white rounded-full dark:bg-gray-600 size-4 items-center justify-center flex-shrink-0"><svg class="w-3 h-3 text-red-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 19"><path d="M15 1.943v12.114a1 1 0 0 1-1.581.814L8 11V5l5.419-3.871A1 1 0 0 1 15 1.943ZM7 4H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2v5a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V4ZM4 17v-5h1v5H4ZM16 5.183v5.634a2.984 2.984 0 0 0 0-5.634Z"></path></svg><span class="sr-only">Light bulb</span></span><span>Scheduled Maintenance: <a class="font-semibold">Monday, December 2</a> from <a class="font-semibold">23:00</a> to <a class="font-semibold">00:00</a>. Services may be temporarily unavailable during this time. Thank you for your understanding.</span></p></div>',1)]))):(0,s.Q3)("",!0)}const q={data(){return{bannerVisible:!1}}},K=(0,w.A)(q,[["render",W]]),Q=K,Y={name:"App",components:{AppHeader:L,AppFooter:X,PatchNote:Z,Announcement:Q},mounted(){this.applyDarkModePreference()},methods:{applyDarkModePreference(){const e=localStorage.getItem("color-theme");"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}},ee=(0,w.A)(Y,[["render",l]]),te=ee;var re=r(220);function oe(e,t,r,o,a,n){const l=(0,s.g2)("SearchModule");return(0,s.uX)(),(0,s.Wv)(l)}const se={class:"my-12 px-20"};function ae(e,t,r,o,a,n){const l=(0,s.g2)("SearchBuildingModule"),i=(0,s.g2)("ResultModule");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",se,[(0,s.bF)(l,{onSearchComplete:n.handleSearchComplete,genes:r.genes,phenotypes:r.phenotypes},null,8,["onSearchComplete","genes","phenotypes"])]),(0,s.bF)(i,{results:a.searchResults},null,8,["results"])],64)}const ne={class:"flex flex-row items-center border-blue-600"},le={class:"flex flex-row mx-2"},ie={class:"relative w-full overflow-auto h-56"},de={class:"absolute bottom-2 right-4 flex space-x-2"},ce={class:"flex flex-row h-full gap-2 min-h-72 mx-2"},ue={class:"flex flex-col w-1/2 min-w-[350px] justify-start items-center bg-gray-50 border border-gray-300 rounded-lg p-4"},ge={class:"flex flex-row justify-between items-center w-full"},pe={class:"relative"},he={class:"flex flex-col w-1/2 min-w-[410px] justify-start items-center bg-gray-50 border border-gray-300 rounded-lg p-4"},me={class:"flex flex-row justify-between items-center w-full"},fe={class:"w-2/3"},be={class:"relative"},ye={class:"flex flex-row justify-center mx-2"},ke={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},xe={class:"bg-white rounded-lg shadow-lg w-96 p-6 text-center"},we={class:"flex justify-center gap-4"};function ve(e,t,r,a,n,l){return(0,s.uX)(),(0,s.CE)("div",{class:"flex flex-col gap-3 justify-center min-w-[790px]",onClickCapture:t[20]||(t[20]=e=>{l.hideSuggestions("geneSuggestions"),l.hideSuggestions("phenotypeSuggestions")})},[(0,s.Lk)("div",null,[(0,s.Lk)("div",ne,[t[21]||(t[21]=(0,s.Fv)('<label for="batch" class="block text-3xl ml-10 font-bold text-gray-700"> EXTRACT FROM TEXT </label><div class="group flex z-10 relative ml-3"><button class="text-gray-600 transition-colors duration-200 focus:outline-none dark:text-gray-200 dark:hover:text-red-400 hover:text-red-500"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"></path></svg></button><span class="group-hover:opacity-100 transition-opacity duration-300 bg-gray-700 text-white text-1xl font-sans italic font-medium rounded-lg px-3 py-2 shadow-lg ml-4 absolute left-1/2 translate-x-3 -translate-y-5 opacity-0 mt-2 whitespace-nowrap"> Extract genes from raw text, file, url, webpage or SeqOne. </span></div>',2)),(0,s.Lk)("button",{class:"ml-auto px-4 py-1 mb-1 mr-5 bg-red-500 text-white rounded-lg font-bold hover:bg-red-600",onClick:t[0]||(t[0]=(...e)=>l.showLogoutModal&&l.showLogoutModal(...e))}," New Research ")]),(0,s.Lk)("div",le,[(0,s.Lk)("div",ie,[(0,s.bo)((0,s.Lk)("textarea",{id:"batchInput","onUpdate:modelValue":t[1]||(t[1]=e=>n.batchInput=e),rows:"4",class:"block p-2.5 pb-12 w-full h-full resize-none text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Paste your genes here..."},null,512),[[o.Jo,n.batchInput]]),(0,s.Lk)("div",de,[(0,s.Lk)("button",{id:"submitTextArea",onClick:t[2]||(t[2]=(...e)=>l.extractGeneFromBatch&&l.extractGeneFromBatch(...e)),type:"button",class:"flex items-center px-4 py-2 bg-gray-800 hover:bg-gray-600 text-white font-medium rounded-md space-x-2"},t[22]||(t[22]=[(0,s.Lk)("svg",{class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M9.586 2.586A2 2 0 0 1 11 2h2a2 2 0 0 1 2 2v.089l.473.196.063-.063a2.002 2.002 0 0 1 2.828 0l1.414 1.414a2 2 0 0 1 0 2.827l-.063.064.196.473H20a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-.089l-.196.473.063.063a2.002 2.002 0 0 1 0 2.828l-1.414 1.414a2 2 0 0 1-2.828 0l-.063-.063-.473.196V20a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-.089l-.473-.196-.063.063a2.002 2.002 0 0 1-2.828 0l-1.414-1.414a2 2 0 0 1 0-2.827l.063-.064L4.089 15H4a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h.09l.195-.473-.063-.063a2 2 0 0 1 0-2.828l1.414-1.414a2 2 0 0 1 2.827 0l.064.063L9 4.089V4a2 2 0 0 1 .586-1.414ZM8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z","clip-rule":"evenodd"})],-1),(0,s.Lk)("span",null,"Extract Genes",-1)])),(0,s.Lk)("button",{id:"clearTextArea",onClick:t[3]||(t[3]=(...e)=>l.clearBatchInput&&l.clearBatchInput(...e)),type:"button",class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-md"}," Clear ")])]),(0,s.Lk)("div",{class:"flex flex-col items-center justify-center h-56 mb-3 ml-3 max-w-lg text-center bg-gray-50 border-2 border-gray-300 border-dashed cursor-pointer dark:bg-gray-900 dark:border-gray-700 rounded-xl",onDragover:t[5]||(t[5]=(0,o.D$)((()=>{}),["prevent"])),onDragenter:t[6]||(t[6]=(0,o.D$)((()=>{}),["prevent"])),onDrop:t[7]||(t[7]=(0,o.D$)(((...e)=>l.handleFileDrop&&l.handleFileDrop(...e)),["prevent"]))},[t[23]||(t[23]=(0,s.Fv)('<label for="dropzone-file" class="flex flex-col items-center justify-center w-full h-full cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-gray-500 dark:text-gray-400"><path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"></path></svg><h2 class="mt-1 font-medium tracking-wide text-gray-700 dark:text-gray-200"> Drop File Here </h2><p class="mt-2 text-xs tracking-wide text-gray-500 dark:text-gray-400"> Upload or drag &amp; drop your file TXT, CSV or XML. </p></label>',1)),(0,s.Lk)("input",{id:"dropzone-file",type:"file",class:"hidden",onChange:t[4]||(t[4]=(...e)=>l.handleFileUpload&&l.handleFileUpload(...e))},null,32)],32)])]),(0,s.Lk)("div",ce,[(0,s.Lk)("div",ue,[(0,s.Lk)("div",ge,[(0,s.Lk)("button",{onClick:t[8]||(t[8]=e=>l.clearContainer("gene"))},t[24]||(t[24]=[(0,s.Lk)("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})],-1)])),(0,s.Lk)("form",{onSubmit:t[12]||(t[12]=(0,o.D$)((()=>{}),["prevent"])),class:"w-2/3"},[t[28]||(t[28]=(0,s.Lk)("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1)),(0,s.Lk)("div",pe,[t[26]||(t[26]=(0,s.Lk)("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[(0,s.Lk)("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[(0,s.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),(0,s.Lk)("input",{type:"search",ref:"geneInput",id:"geneInput",class:"block w-full h-full p-4 pl-10 text-base text-gray-900 border shadow-inner border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 focus:outline-none",placeholder:"Add Genes...",onInput:t[9]||(t[9]=t=>e.debouncedShowSuggestions("gene")),onKeydown:t[10]||(t[10]=(0,o.jR)((0,o.D$)(((...e)=>l.addFreeGene&&l.addFreeGene(...e)),["prevent"]),["enter"])),autocomplete:"off",required:""},null,544),(0,s.Lk)("button",{type:"button",id:"addPhenotypeButton",onClick:t[11]||(t[11]=e=>l.addFreeGene()),class:"text-white absolute right-2 bottom-2 bg-gray-800 hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},t[25]||(t[25]=[(0,s.Lk)("p",{class:"text-white"},"Add",-1)])),t[27]||(t[27]=(0,s.Lk)("ul",{id:"geneSuggestions",class:"absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10 top-full"},null,-1))])],32),t[29]||(t[29]=(0,s.Lk)("div",{class:"w-6"},null,-1))]),t[30]||(t[30]=(0,s.Lk)("div",{class:"flex flex-col items-center mt-2 space-y-4 rounded max-h-48 overflow-auto p-4"},[(0,s.Lk)("div",{class:"flex flex-wrap gap-2 p-4 gene-items"})],-1))]),t[39]||(t[39]=(0,s.Lk)("div",{class:"bg-gray-300 w-0.5"},null,-1)),(0,s.Lk)("div",he,[(0,s.Lk)("div",me,[t[37]||(t[37]=(0,s.Lk)("div",{class:"w-6"},null,-1)),(0,s.Lk)("form",fe,[t[35]||(t[35]=(0,s.Lk)("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1)),(0,s.Lk)("div",be,[t[32]||(t[32]=(0,s.Lk)("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[(0,s.Lk)("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[(0,s.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),(0,s.Lk)("input",{type:"search",id:"phenotypeInput",ref:"phenotypeInput",class:"block w-full h-full p-4 pl-10 text-base shadow-inner text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 focus:outline-none",placeholder:"Add phenotypes...",onInput:t[13]||(t[13]=t=>e.debouncedShowSuggestions("phenotype")),autocomplete:"off",onKeydown:t[14]||(t[14]=(0,o.jR)((0,o.D$)(((...e)=>l.addFreePhenotype&&l.addFreePhenotype(...e)),["prevent"]),["enter"])),required:""},null,544),(0,s.Lk)("button",{type:"button",id:"addPhenotypeButton",onClick:t[15]||(t[15]=e=>l.addFreePhenotype()),class:"text-white absolute right-2 bottom-2 bg-gray-800 hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},t[31]||(t[31]=[(0,s.Lk)("p",{class:"text-white"},"Add",-1)])),t[33]||(t[33]=(0,s.Lk)("ul",{id:"phenotypeSuggestions",class:"absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10 top-full"},null,-1)),t[34]||(t[34]=(0,s.Lk)("ul",{id:"suggestions",class:"absolute w-full bg-white border border-gray-300 rounded-lg mt-1 hidden max-h-60 overflow-y-auto shadow-lg z-10"},null,-1))])]),(0,s.Lk)("button",{onClick:t[16]||(t[16]=e=>l.clearContainer("phenotype"))},t[36]||(t[36]=[(0,s.Lk)("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})],-1)]))]),t[38]||(t[38]=(0,s.Lk)("div",{class:"flex flex-col items-center mt-2 space-y-4 rounded max-h-48 overflow-auto p-4"},[(0,s.Lk)("div",{class:"flex flex-wrap gap-2 p-4 phenotype-items"})],-1))])]),(0,s.Lk)("div",ye,[(0,s.Lk)("button",{type:"button",id:"researchButton",onClick:t[17]||(t[17]=(...e)=>l.reasearch&&l.reasearch(...e)),class:"text-white bg-gray-800 hover:bg-gray-600 w-full justify-center focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm py-2.5 text-center inline-flex items-center h-24 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},t[40]||(t[40]=[(0,s.Lk)("svg",{class:"loader w-12 h-12 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M8.737 8.737a21.49 21.49 0 0 1 3.308-2.724m0 0c3.063-2.026 5.99-2.641 7.331-1.3 1.827 1.828.026 6.591-4.023 10.64-4.049 4.049-8.812 5.85-10.64 4.023-1.33-1.33-.736-4.218 1.249-7.253m6.083-6.11c-3.063-2.026-5.99-2.641-7.331-1.3-1.827 1.828-.026 6.591 4.023 10.64m3.308-9.34a21.497 21.497 0 0 1 3.308 2.724m2.775 3.386c1.985 3.035 2.579 5.923 1.248 7.253-1.336 1.337-4.245.732-7.295-1.275M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})],-1),(0,s.Lk)("p",{class:"text-white text-3xl genes-count"},"RESEARCH 0 GENES",-1),(0,s.Lk)("div",{role:"status",class:"flex items-center"},[(0,s.Lk)("svg",{class:"loader w-12 h-12 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M8.737 8.737a21.49 21.49 0 0 1 3.308-2.724m0 0c3.063-2.026 5.99-2.641 7.331-1.3 1.827 1.828.026 6.591-4.023 10.64-4.049 4.049-8.812 5.85-10.64 4.023-1.33-1.33-.736-4.218 1.249-7.253m6.083-6.11c-3.063-2.026-5.99-2.641-7.331-1.3-1.827 1.828-.026 6.591 4.023 10.64m3.308-9.34a21.497 21.497 0 0 1 3.308 2.724m2.775 3.386c1.985 3.035 2.579 5.923 1.248 7.253-1.336 1.337-4.245.732-7.295-1.275M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})]),(0,s.Lk)("span",{class:"sr-only"},"Loading...")],-1)])),n.logoutModalVisible?((0,s.uX)(),(0,s.CE)("div",ke,[(0,s.Lk)("div",xe,[t[41]||(t[41]=(0,s.Lk)("h2",{class:"text-xl font-bold mb-4"},"Are you sure?",-1)),t[42]||(t[42]=(0,s.Lk)("p",{class:"text-gray-600 mb-6"},"This will clear all the research fields",-1)),(0,s.Lk)("div",we,[(0,s.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>l.confirm&&l.confirm(...e)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none"}," Yes, I'm Sure "),(0,s.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>l.cancel&&l.cancel(...e)),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none"}," Cancel ")])])])):(0,s.Q3)("",!0)])],32)}const Le={name:"SearchBuildingModule",props:{genes:{type:Array,default:()=>[]},phenotypes:{type:Array,default:()=>[]}},data(){return{genesInput:this.genes.join(", "),phenotypesInput:this.phenotypes.join(", "),genesList:[],batchInput:"",extractedGenes:[],logoutModalVisible:!1,blacklistedGenes:[]}},mounted(){sessionStorage.getItem("data")||sessionStorage.setItem("data",JSON.stringify([{type:"gene",items:[]},{type:"phenotype",items:[]}]));const e=sessionStorage.getItem("blacklistedGenes");this.blacklistedGenes=e?JSON.parse(e):[],this.displayItems("gene"),this.displayItems("phenotype"),(this.genes.length||this.phenotypes.length)&&this.searchFromUrl(),this.fetchGenesListAndCache()},created(){this.debouncedShowSuggestions=this.debounce(this.showSuggestions,300)},methods:{showLogoutModal(){this.logoutModalVisible=!0},confirm(){this.logoutModalVisible=!1,this.clearWholeResearch()},cancel(){this.logoutModalVisible=!1},async searchFromUrl(){const e={genes:this.genesInput.split(",").map((e=>e.trim())),phenotypes:this.phenotypesInput.split(",").map((e=>e.trim()))};let t=0;for(const o in this.genes)t++;document.querySelector(".genes-count").textContent=`RESEARCH ${t} GENES`;try{this.startLoader();const t=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();this.$emit("search-complete",r.results||[]),this.stopLoader()}catch(r){console.error("Error during search:",r)}},async showSuggestions(e){const t=document.getElementById("gene"===e?"geneInput":"phenotypeInput"),r=document.getElementById("gene"===e?"geneSuggestions":"phenotypeSuggestions"),o=t.value.trim();if(r.innerHTML="",o)try{const t="gene"===e?await this.fetchGenesAPI(o):await this.fetchPhenotypesAPI(o);t.length>0?(t.forEach((t=>{const o=document.createElement("li");o.textContent=t.name,o.className="p-2 hover:bg-blue-100 cursor-pointer",o.onclick=()=>this.selectItem(e,t.name),r.appendChild(o)})),r.classList.remove("hidden")):r.classList.add("hidden")}catch(s){console.error("Error fetching suggestions:",s),r.classList.add("hidden")}else r.classList.add("hidden")},async fetchGenesAPI(e){try{const t=`https://clinicaltables.nlm.nih.gov/api/ncbi_genes/v3/search?terms=${encodeURIComponent(e)}&maxList=10`,r=await fetch(t,{headers:{"Content-Type":"application/json",Origin:"http://localhost:3000"}});if(!r.ok)throw new Error(`Failed to fetch data for gene symbol ${e}`);let o=await r.json();const s=o[3].map((e=>({name:e[3]})));return s}catch(t){return console.error("Fetch error:",t),[]}},async fetchPhenotypesAPI(e){try{const t=await fetch(`https://ontology.jax.org/api/hp/search?q=${encodeURIComponent(e)}&page=0&limit=10`);if(!t.ok)throw new Error("Failed to fetch data from OLS API");const r=await t.json();return r.terms}catch(t){return console.error("Fetch error:",t),[]}},selectItem(e,t){"gene"===e?this.addGene(t):"phenotype"===e&&this.addPhenotype(t);const r=document.getElementById("gene"===e?"geneInput":"phenotypeInput"),o=document.getElementById("gene"===e?"geneSuggestions":"phenotypeSuggestions");r.value="",r.focus(),o.classList.add("hidden")},addGene(e){e=e.toUpperCase();let t=JSON.parse(sessionStorage.getItem("data"))||[{type:"gene",items:[]},{type:"phenotype",items:[]}];const r=t.find((e=>"gene"===e.type));r.items.includes(e)||""===e||(r.items.push(e),sessionStorage.setItem("data",JSON.stringify(t)),this.$refs.geneInput.value="",this.displayItems("gene")),this.hideSuggestions("geneSuggestions")},addPhenotype(e){e=e.toUpperCase();let t=JSON.parse(sessionStorage.getItem("data"))||[{type:"gene",items:[]},{type:"phenotype",items:[]}];const r=t.find((e=>"phenotype"===e.type));r.items.includes(e)||""===e||(r.items.push(e),sessionStorage.setItem("data",JSON.stringify(t)),this.$refs.phenotypeInput.value="",this.displayItems("phenotype")),this.hideSuggestions("phenotypeSuggestions")},getItems(e){const t=JSON.parse(sessionStorage.getItem("data")),r=t.find((t=>t.type===e));return r?r.items:[]},displayItems(e){const t=this.getItems(e),r="gene"===e?document.querySelector(".flex-wrap.gene-items"):document.querySelector(".flex-wrap.phenotype-items");r?(r.innerHTML="",t.forEach((t=>{const o=document.createElement("div"),s=document.createElement("div");this.blacklistedGenes.includes(t)?o.className="bg-red-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4":o.className="bg-gray-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4",s.textContent=t;const a=this.createSvgIcon(e,t);o.appendChild(s),o.appendChild(a),o.addEventListener("click",(()=>{this.handleGeneClick(t,o)})),r.appendChild(o)}))):console.error("Container element not found!"),"gene"===e&&(document.querySelector(".genes-count").textContent=`RESEARCH ${Object.keys(t).length-Object.keys(this.blacklistedGenes).length} GENES`)},handleGeneClick(e,t){const r=this.blacklistedGenes.includes(e);r?(this.blacklistedGenes=this.blacklistedGenes.filter((t=>t!==e)),t.className="bg-gray-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4"):(this.blacklistedGenes.push(e),t.className="bg-red-200 text-gray-700 rounded-full text-ml font-mono font-bold px-4 py-2 flex items-center space-x-4"),this.displayItems("gene"),sessionStorage.setItem("blacklistedGenes",JSON.stringify(this.blacklistedGenes))},createSvgIcon(e,t){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class","w-6 h-6 hover:text-gray-600 text-gray-800 dark:text-white"),r.setAttribute("aria-hidden","true"),r.setAttribute("width","24"),r.setAttribute("height","24"),r.setAttribute("fill","currentColor"),r.setAttribute("viewBox","0 0 24 24");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("fill-rule","evenodd"),o.setAttribute("d","M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm7.707-3.707a1 1 0 0 0-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 1 0 1.414 1.414L12 13.414l2.293 2.293a1 1 0 0 0 1.414-1.414L13.414 12l2.293-2.293a1 1 0 0 0-1.414-1.414L12 10.586 9.707 8.293Z"),o.setAttribute("clip-rule","evenodd"),r.appendChild(o),r.addEventListener("click",(()=>this.removeItem(e,t))),r},removeItem(e,t){const r=JSON.parse(sessionStorage.getItem("data")),o=r.find((t=>t.type===e)).items,s=o.filter((e=>e!==t));r.find((t=>t.type===e)).items=s,sessionStorage.setItem("data",JSON.stringify(r)),this.displayItems(e)},clearList(e){const t=JSON.parse(sessionStorage.getItem("data")),r=t.find((t=>t.type===e));r.items=[],sessionStorage.setItem("data",JSON.stringify(t)),this.displayItems(e)},hideSuggestions(e){const t=document.getElementById(e);t&&t.classList.add("hidden")},addFreeGene(){const e=document.getElementById("geneInput"),t=e.value.trim();t&&(this.addGene(t),e.value="",this.hideSuggestions(geneSuggestions))},addFreePhenotype(){const e=document.getElementById("phenotypeInput"),t=e.value.trim();let r=[];if(t){if(t.length>20){const e=/\d{7}:\s[^0-9]+(?=\s|$)/g;r=t.match(e);for(let t in r)r[t]=r[t].split(":")[1].trim(),this.addPhenotype(r[t])}else this.addPhenotype(t);e.value="",this.hideSuggestions(phenotypeSuggestions)}},startLoader(){document.querySelectorAll(".loader").forEach((e=>{e.classList.add("animate-spin")}))},stopLoader(){document.querySelectorAll(".loader").forEach((e=>{e.classList.remove("animate-spin")}))},async reasearch(){(0,N.f0)("research_click",{event_category:"user_interaction",event_label:"search_button",debug_mode:!0}),this.startLoader();let e=this.getItems("gene");const t=this.getItems("phenotype"),r=JSON.parse(localStorage.getItem("user")),o=r?r.id:null;if(e=e.filter((e=>!this.blacklistedGenes.includes(e))),e.length>0||t.length>0){const r={userId:o,genes:e,phenotypes:t};fetch("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status} `);return e.json()})).then((e=>{e&&e.results&&0!==e.results.length?e&&e.results&&(this.$emit("search-complete",e.results),sessionStorage.setItem("results",JSON.stringify(e)),this.stopLoader()):this.stopLoader()})).catch((e=>{console.error("Error:",e)}))}else((e,t)=>0===Object.keys(e).length&&0===Object.keys(t).length)&&this.stopLoader()},debounce(e,t){let r;return function(...o){clearTimeout(r),r=setTimeout((()=>e.apply(this,o)),t)}},async fetchGenesListAndCache(){if(sessionStorage.getItem("genesList"))this.genesList=JSON.parse(sessionStorage.getItem("genesList"));else try{const e=await fetch("api/geneslist"),t=await e.json();this.genesList=t.genes,sessionStorage.setItem("genesList",JSON.stringify(t.genes))}catch(e){console.error("Error fetching genes:",e)}},extractGeneFromBatch(){if(!this.batchInput.trim()||0===this.genesList.length)return void(this.extractedGenes=[]);const e=this.batchInput,t=this.genesList.filter((t=>{const r=new RegExp(`\\b${t} \\b`,"i");return r.test(e)}));t.sort(((t,r)=>e.indexOf(t)-e.indexOf(r))),this.extractedGenes=t,this.populateSearchWithExtraction(t)},async populateSearchWithExtraction(e){for(const t of e)this.addGene(t),await new Promise((e=>setTimeout(e,10)))},clearBatchInput(){this.batchInput="",document.getElementById("batchInput").value=""},readFileContent(e){const t=new FileReader;t.onload=e=>{const t=e.target.result;this.batchInput=t,this.extractGeneFromBatch()},t.onerror=e=>{console.error("Error reading file:",e)},t.readAsText(e)},handleFileDrop(e){const t=e.dataTransfer.files[0];t&&this.readFileContent(t)},handleFileUpload(e){const t=e.target.files[0];t&&this.readFileContent(t)},clearWholeResearch(){this.clearList("gene"),this.clearList("phenotype"),this.batchInput="",this.extractedGenes=[]},clearContainer(e){this.clearList(e)}}},Ce=(0,w.A)(Le,[["render",ve]]),Se=Ce,Ee={class:"block"},Ie={class:"relative overflow-visible shadow-lg sm:rounded-lg"},Me={id:"resultsTable",class:"w-full text-sm text-left rtl:text-right text-gray-500 rounded-3xl dark:text-gray-400 bg-gray-200"},_e={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Pe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},je={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ae={class:"px-6 py-4 text-lg text-center font-medium text-gray-900 whitespace-nowrap dark:text-white border-r border-gray-200"},Fe={class:"flex flex-col items-center justify-center"},Te=["href"],Oe={class:"flex w-32 h-24 justify-center items-center"},De={class:"relative w-full"},Ve={key:0,class:"absolute z-20 inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full dark:border-gray-900 cursor-pointer",style:{top:"50%",left:"90%",transform:"translateY(-50%)"}},Ue={class:"grid grid-cols-2 text-center text-xs border-blue-600 bg-gray-100 rounded-lg"},Xe={class:"flex py-1.5 flex-col items-center justify-center border-t border-l border-b rounded-bl-lg border-gray-400"},Re={class:"absolute inset-0 flex items-center justify-center select-none"},Ge={class:"flex items-center justify-center"},He={class:"bg-white border border-gray-300 rounded-full w-10 h-5 flex items-center justify-center"},Be={class:"text-gray-700 font-bold text-sm"},Ne={class:"flex w-96 py-4 pr-3 items-center border-r border-gray-200 hover:bg-blue-50"},$e={class:"w-32 h-32 flex items-center justify-center border-green-500 hover:bg-blue-50"},Je={class:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100"},Ze=["stroke"],ze={x:"50",y:"50",fill:"black","font-size":"14","font-weight":"bold","font-family":"Arial, sans-serif","text-anchor":"middle","dominant-baseline":"middle",transform:"rotate(90, 50, 50)"},We={class:"flex flex-col flex-grow items-center justify-center border-red-700 w-32"},qe={class:"flex items-center justify-center"},Ke=["href"],Qe={class:"px-6 py-4 border-r border-gray-200"},Ye={key:0,class:"mb-2 flex flex-wrap gap-2"},et=["href"],tt={class:"px-6 py-4 border-r border-gray-200"},rt={key:0,class:"flex flex-wrap gap-2 justify-center"},ot=["innerHTML","onMouseenter","onMouseleave"],st={class:"px-6 py-4 border-r border-gray-200"},at={key:0,class:"relative w-full h-6 bg-gray-300 rounded-lg overflow-hidden"},nt={key:1,class:"text-center text-xs text-gray-500"},lt={key:2,class:"flex justify-between text-xs mt-1"},it={class:"text-red-700 font-bold text-xs cursor-pointer"},dt={class:"text-blue-700 font-bold text-xs cursor-pointer"},ct={key:3,class:"relative w-full h-6 bg-gray-300 rounded-lg overflow-hidden"},ut={key:4,class:"text-center text-xs text-gray-500"},gt={key:5,class:"flex justify-between text-xs mt-1"},pt={class:"text-red-500 font-bold text-xs cursor-pointer"},ht={class:"text-blue-500 font-bold text-xs cursor-pointer"},mt={class:"px-6 py-4 text-center"},ft=["href"],bt={class:"flex flex-row justify-center gap-2"},yt=["href"],kt={class:"relative"},xt={class:"absolute inset-0 flex items-center justify-center"},wt={class:"bg-white rounded-full w-5 h-5 flex items-center justify-center"},vt={class:"text-gray-700 font-bold text-sm"},Lt=["href"],Ct={class:"relative"},St={class:"absolute inset-0 flex items-center justify-center"},Et={class:"bg-white rounded-full w-5 h-5 flex items-center justify-center"},It={class:"text-gray-700 font-bold text-sm"};function Mt(e,t,r,o,a,n){const l=(0,s.gN)("tooltip");return(0,s.uX)(),(0,s.CE)("main",{id:"searchResults",class:(0,i.C4)(["flex px-20 my-10 w-full bg-transparent rounded-lg flex-grow flex-col",{hidden:!r.results||0===r.results.length}])},[t[28]||(t[28]=(0,s.Lk)("div",{class:"flex justify-center"},[(0,s.Lk)("p",{class:"text-bold text-4xl font-mono font-bold underline pb-5 text-gray-700"},"RESULTS")],-1)),(0,s.Lk)("div",null,[a.isScrolled?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>n.scrollToTop&&n.scrollToTop(...e)),class:"fixed bottom-20 right-1 p-3 z-50 bg-gray-800 text-white rounded-full hover:bg-gray-600"},t[3]||(t[3]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1)]))):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Ee,[(0,s.Lk)("div",Ie,[(0,s.Lk)("table",Me,[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[t[9]||(t[9]=(0,s.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-r border-gray-300 relative group cursor-pointer"},[(0,s.eW)(" GENE "),(0,s.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," Gene name and GnomAd constraints ")],-1)),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-r border-gray-300 relative group cursor-pointer",onClick:t[1]||(t[1]=(...e)=>n.sortByPubMedCount&&n.sortByPubMedCount(...e))},[t[7]||(t[7]=(0,s.eW)(" PUBMATCH ")),(0,s.Lk)("span",null,["asc"===a.sortDirection?((0,s.uX)(),(0,s.CE)("svg",_e,t[4]||(t[4]=[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)]))):"desc"===a.sortDirection?((0,s.uX)(),(0,s.CE)("svg",Pe,t[5]||(t[5]=[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):((0,s.uX)(),(0,s.CE)("svg",je,t[6]||(t[6]=[(0,s.Lk)("line",{x1:"5",y1:"10",x2:"19",y2:"10","stroke-linecap":"round"},null,-1),(0,s.Lk)("line",{x1:"5",y1:"14",x2:"19",y2:"14","stroke-linecap":"round"},null,-1)])))]),t[8]||(t[8]=(0,s.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," Number of article for the Match & Name of First Publication ",-1))]),t[10]||(t[10]=(0,s.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-r border-gray-300 relative group cursor-pointer"},[(0,s.eW)(" FUNCTION "),(0,s.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," Uniprot keywords , function & link ")],-1)),t[11]||(t[11]=(0,s.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-r border-gray-300 relative group cursor-pointer"},[(0,s.eW)(" PHENOTYPE KO "),(0,s.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," IMPC Signficant Phenotype on KO Mice ")],-1)),t[12]||(t[12]=(0,s.Lk)("th",{scope:"col",class:"px-6 py-3 text-center border-r border-gray-300 relative group cursor-pointer"},[(0,s.eW)(" ClinVar LookUp "),(0,s.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-1/2 transform -translate-x-1/2"}," Variants P/PL or VUS repartition from ClinVar ")],-1)),t[13]||(t[13]=(0,s.Lk)("th",{scope:"col",class:"px-6 py-3 text-center relative group cursor-pointer"},[(0,s.eW)(" STATUS "),(0,s.Lk)("div",{class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm font-bold rounded px-3 py-1 z-50 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 -top-10 left-2 transform -translate-x-1/2"}," Status on GeneCC & PanelApp Data ")],-1))])]),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.results,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.gene,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[(0,s.Lk)("td",Ae,[(0,s.Lk)("div",Fe,[(0,s.Lk)("a",{href:e.gene?`https://www.genenames.org/data/gene-symbol-report/#!/hgnc_id/${e.hgncId}`:"#",target:"_blank",rel:"noopener noreferrer",class:"relative"},[(0,s.Lk)("p",null,[(0,s.Lk)("em",null,(0,i.v_)(e.gene),1)])],8,Te),(0,s.Lk)("div",{class:"relative flex h-full items-center justify-center",onClick:t[2]||(t[2]=(...e)=>n.toggleVersion&&n.toggleVersion(...e))},[(0,s.Lk)("div",Oe,[(0,s.Lk)("div",De,[e.constraintsDelta?(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",Ve,t[14]||(t[14]=[(0,s.eW)(" ! ")]))),[[l,{content:"Notable differences exist between V2 and V4 constraints <br/> Click to swap versions",html:!0,placement:"right"}]]):(0,s.Q3)("",!0),(0,s.Lk)("div",Ue,[(0,s.Lk)("div",{class:(0,i.C4)(["flex py-1.5 flex-col items-center justify-center border-t border-l rounded-tl-lg border-gray-400","v2"===a.displayVersion?n.getConstraintColor(e.constraints_v2.pLI,"pLI"):"text-black"])},[t[15]||(t[15]=(0,s.Lk)("p",{class:"font-bold"},"pLI",-1)),(0,s.Lk)("p",null,(0,i.v_)("v2"===a.displayVersion?e.constraints_v2.pLI:e.constraints_v4.pLI),1)],2),(0,s.Lk)("div",{class:(0,i.C4)(["flex py-1.5 flex-col items-center justify-center border-t border-l border-r rounded-tr-lg border-gray-400","v2"===a.displayVersion?n.getConstraintColor(e.constraints_v2.oe_lof_upper,"LOEUF"):"text-black"])},[t[16]||(t[16]=(0,s.Lk)("p",{class:"font-bold"},"LOEUF",-1)),(0,s.Lk)("p",null,(0,i.v_)("v2"===a.displayVersion?e.constraints_v2.oe_lof_upper:e.constraints_v4.oe_lof_upper),1)],2),(0,s.Lk)("div",Xe,[t[17]||(t[17]=(0,s.Lk)("p",{class:"font-bold"},"Z_score",-1)),(0,s.Lk)("p",null,(0,i.v_)("v2"===a.displayVersion?e.constraints_v2.mis_z:e.constraints_v4.mis_z),1)]),(0,s.Lk)("div",{class:(0,i.C4)(["flex py-1.5 flex-col items-center justify-center border border-gray-400 rounded-br-lg","v2"===a.displayVersion?n.getConstraintColor(e.constraints_v2.oe_mis_upper,"MOEUF"):"text-black"])},[t[18]||(t[18]=(0,s.Lk)("p",{class:"font-bold"},"MOEUF",-1)),(0,s.Lk)("p",null,(0,i.v_)("v2"===a.displayVersion?e.constraints_v2.oe_mis_upper:e.constraints_v4.oe_mis_upper),1)],2),(0,s.Lk)("div",Re,[(0,s.Lk)("div",Ge,[(0,s.Lk)("div",He,[(0,s.Lk)("p",Be,(0,i.v_)(a.displayVersion),1)])])])])])])])])]),(0,s.Lk)("td",Ne,[(0,s.Lk)("div",$e,[((0,s.uX)(),(0,s.CE)("svg",Je,[(0,s.Lk)("circle",{class:"text-gray-300",cx:"50",cy:"50",r:"25","stroke-width":"5",stroke:n.getColor(e.count),fill:"none"},null,8,Ze),(0,s.Lk)("text",ze,(0,i.v_)(e.count||0),1)]))]),(0,s.Lk)("div",We,[(0,s.Lk)("div",qe,[(0,s.Lk)("a",{href:e.url,target:"_blank",class:"underline text-blue-600 text-base font-medium flex items-center transition duration-200 hover:text-blue-800"},[(0,s.eW)((0,i.v_)(e.firstArticleTitle||"N/A")+" ",1),t[19]||(t[19]=(0,s.Lk)("i",{class:"fas fa-external-link-alt ml-2 text-xs"},null,-1))],8,Ke)])])]),(0,s.Lk)("td",Qe,[e.bioProcessKeywordsOnly&&e.bioProcessKeywordsOnly.length>0?((0,s.uX)(),(0,s.CE)("div",Ye,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.bioProcessKeywordsOnly,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e,class:"px-2 py-1 text-xs font-bold font-sans text-blue-700 bg-blue-100 rounded"},(0,i.v_)(e),1)))),128))])):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,i.v_)(e.geneFunction||"N/A")+" ",1),(0,s.Lk)("a",{href:e.urlAccession,target:"_blank",class:"font-bold text-blue-600"},"[...]",8,et)]),(0,s.Lk)("td",tt,[e.mousePhenotypes&&Object.keys(e.mousePhenotypes).length>0?((0,s.uX)(),(0,s.CE)("div",rt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.mousePhenotypes,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"relative flex items-center gap-2"},[(0,s.Lk)("span",{innerHTML:e.icon,class:"w-6 h-6 cursor-pointer",onMouseenter:t=>n.showTooltip(e,t),onMouseleave:t=>n.hideTooltip(e)},null,40,ot),e.showTooltip?((0,s.uX)(),(0,s.CE)("div",{key:0,style:(0,i.Tr)({top:`${e.tooltipY}px`,left:`${e.tooltipX}px`,transform:"translate(-100%, 30%)"}),class:"absolute whitespace-nowrap bg-gray-800 text-white text-sm pointer-events-none font-bold rounded px-3 py-1 z-50 shadow-lg"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.names,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e,class:"block"},(0,i.v_)(e),1)))),128))],4)):(0,s.Q3)("",!0)])))),128))])):(0,s.Q3)("",!0)]),(0,s.Lk)("td",st,[t[24]||(t[24]=(0,s.Lk)("div",{class:"text-center text-sm font-bold text-gray-800 mb-1"},"P/LP",-1)),e.lofVariants+e.missenseVariants>0?((0,s.uX)(),(0,s.CE)("div",at,[(0,s.bo)((0,s.Lk)("div",{class:"absolute top-0 left-0 h-full bg-red-500",style:(0,i.Tr)({width:`${n.getPercentage(e.lofVariants,e.lofVariants+e.missenseVariants)}%`})},null,4),[[l,{content:`${e.lofVariants||0} LOFs`,placement:"top"}]]),(0,s.bo)((0,s.Lk)("div",{class:"absolute top-0 right-0 h-full bg-blue-500",style:(0,i.Tr)({width:`${n.getPercentage(e.missenseVariants,e.lofVariants+e.missenseVariants)}%`})},null,4),[[l,{content:`${e.missenseVariants||0} Missenses`,placement:"top"}]])])):((0,s.uX)(),(0,s.CE)("div",nt,"0")),e.lofVariants+e.missenseVariants>0?((0,s.uX)(),(0,s.CE)("div",lt,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("span",it,t[20]||(t[20]=[(0,s.eW)(" LOF ")]))),[[l,{content:`${e.lofVariants||0} LOFs`,placement:"top"}]]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("span",dt,t[21]||(t[21]=[(0,s.eW)(" MS ")]))),[[l,{content:`${e.missenseVariants||0} Missenses`,placement:"top"}]])])):(0,s.Q3)("",!0),t[25]||(t[25]=(0,s.Lk)("div",{class:"text-center text-sm font-bold text-gray-800 mt-3 mb-1"},"VUS",-1)),e.lofUnknown+e.missenseUnknown>0?((0,s.uX)(),(0,s.CE)("div",ct,[(0,s.bo)((0,s.Lk)("div",{class:"absolute top-0 left-0 h-full bg-red-300",style:(0,i.Tr)({width:`${n.getPercentage(e.lofUnknown,e.lofUnknown+e.missenseUnknown)}%`})},null,4),[[l,{content:`${e.lofUnknown||0} LOF Unknowns`,placement:"top"}]]),(0,s.bo)((0,s.Lk)("div",{class:"absolute top-0 right-0 h-full bg-blue-300",style:(0,i.Tr)({width:`${n.getPercentage(e.missenseUnknown,e.lofUnknown+e.missenseUnknown)}%`})},null,4),[[l,{content:`${e.missenseUnknown||0} Missense Unknowns`,placement:"top"}]])])):((0,s.uX)(),(0,s.CE)("div",ut,"0")),e.lofUnknown+e.missenseUnknown>0?((0,s.uX)(),(0,s.CE)("div",gt,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("span",pt,t[22]||(t[22]=[(0,s.eW)(" LOF ")]))),[[l,{content:`${e.lofUnknown||0} LOF Unknowns`,placement:"top"}]]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("span",ht,t[23]||(t[23]=[(0,s.eW)(" MS ")]))),[[l,{content:`${e.missenseUnknown||0} Missense Unknowns`,placement:"top"}]])])):(0,s.Q3)("",!0)]),(0,s.Lk)("td",mt,[(0,s.Lk)("div",{class:(0,i.C4)([[n.getValidityColor(e.geneValidity)],"rounded-full text-white font-bold py-1 px-2 text-nowrap"])},[(0,s.Lk)("a",{href:e.geneLink,target:"_blank",rel:"noopener noreferrer",class:"text-white hover:underline"},(0,i.v_)(e.geneValidity),9,ft)],2),(0,s.Lk)("div",bt,[(0,s.Lk)("a",{href:e.gene?`https://panelapp.genomicsengland.co.uk/panels/entities/${e.gene}`:"#",target:"_blank",rel:"noopener noreferrer",class:"relative"},[(0,s.Lk)("div",kt,[t[26]||(t[26]=(0,s.Lk)("img",{src:"/images/england.png",alt:"England Flag",style:{cursor:"pointer"},width:"50"},null,-1)),(0,s.Lk)("div",xt,[(0,s.Lk)("div",wt,[(0,s.Lk)("p",vt,(0,i.v_)(e.panelAppEnglandCount||0),1)])])])],8,yt),(0,s.Lk)("a",{href:e.gene?`https://panelapp.agha.umccr.org/panels/entities/${e.gene}`:"#",target:"_blank",rel:"noopener noreferrer",class:"relative"},[(0,s.Lk)("div",Ct,[t[27]||(t[27]=(0,s.Lk)("img",{src:"/images/australia.png",alt:"Aussie Flag",style:{cursor:"pointer"},width:"50"},null,-1)),(0,s.Lk)("div",St,[(0,s.Lk)("div",Et,[(0,s.Lk)("p",It,(0,i.v_)(e.panelAppAustraliaCount||0),1)])])])],8,Lt)])])])))),128))])])])])],2)}const _t={name:"ResultModule",watch:{results(e){e&&e.length>0&&this.scrollToResults(),0===this.originalResults.length&&(this.originalResults=[...e])}},data(){return{showTooltipData:{names:[],category:null,x:0,y:0},originalResults:[],sortDirection:"default",displayVersion:"v2",isScrolled:!1,deltaTooltip:{visible:!1,text:"",x:0,y:0}}},methods:{getConstraintColor(e,t){const r=parseFloat(e.replace(",","."));if("LOEUF"===t||"MOEUF"===t){const e=[{max:.26,color:"bg-red-300"},{max:.41,color:"bg-red-200"},{max:.48,color:"bg-orange-200"},{max:.55,color:"bg-yellow-200"}];for(const{max:t,color:o}of e)if(r<=t)return o;return"text-black"}return"pLI"===t&&r>.97?"bg-red-300":"text-black"},getPercentage(e,t){return 0===t?"0":(e/t*100).toFixed(2)},toggleVersion(){this.displayVersion="v2"===this.displayVersion?"v4":"v2"},showTooltip(e,t){t.target.getBoundingClientRect();e.showTooltip=!0,e.tooltipX=0,e.tooltipY=0},scrollToResults(){const e=document.getElementById("searchResults");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},getDashOffset(e){const t=3e4,r=Math.min(e/t,1),o=2*Math.PI*25;return o*(1-r)},getColor(e){return e<1?"lightGrey":e<10?"rgb(251 147 147)":e<100?"rgb(128 166 243)":e>100?"grey":"red"},getValidityColor(e){return"Definitive"===e?"bg-green-700":"Strong"===e?"bg-green-500":"Moderate"===e?"bg-green-400":"Supportive"===e?"bg-blue-300":"Limited"===e?"bg-red-500":"Disputed Evidence"===e?"bg-red-600":"Refuted"===e?"bg-red-900":"Animal"===e?"bg-orange-300":"No Known"===e||"No Known Disease Relationship"===e?"bg-gray-500":void 0},sortByPubMedCount(){this.sortDirection="default"===this.sortDirection?"asc":"asc"===this.sortDirection?"desc":"default","default"===this.sortDirection?this.results.splice(0,this.results.length,...this.originalResults):"asc"===this.sortDirection?this.results.sort(((e,t)=>e.count-t.count)):"desc"===this.sortDirection&&this.results.sort(((e,t)=>t.count-e.count))},formatConstraint(e,t){const r=parseFloat(e.replace(",","."));for(const{max:o,color:s}of t)if(r<=o)return s;return"black"},hideTooltip(e){e.showTooltip=!1},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){this.isScrolled=window.scrollY>500}},props:{results:{type:Array,default:()=>[]}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)}},Pt=(0,w.A)(_t,[["render",Mt]]),jt=Pt,At={name:"SearchModule",components:{SearchBuildingModule:Se,ResultModule:jt},mounted(){const e=sessionStorage.getItem("results");if(e)try{const t=JSON.parse(e);this.searchResults=t.results||[]}catch(t){console.error("Error parsing saved results:",t)}},props:{genes:{type:Array,default:()=>[]},phenotypes:{type:Array,default:()=>[]}},data(){return{searchResults:[]}},methods:{handleSearchComplete(e){this.searchResults=e,sessionStorage.setItem("results",JSON.stringify(e))}}},Ft=(0,w.A)(At,[["render",ae]]),Tt=Ft,Ot={name:"HomePage",components:{SearchModule:Tt}},Dt=(0,w.A)(Ot,[["render",oe]]),Vt=Dt,Ut={class:"mt-40 about py-10 text-center"},Xt={class:"features flex flex-wrap justify-center mb-12"},Rt={class:"text-gray-800 text-xl font-semibold mb-2"},Gt={class:"text-gray-600"};function Ht(e,t,r,o,a,n){return(0,s.uX)(),(0,s.CE)("div",Ut,[t[0]||(t[0]=(0,s.Lk)("p",{class:"text-gray-700 text-lg mb-5"}," PubMatcher is an automated genomic search tool that integrates biological databases and APIs to facilitate genetic interpretation. ",-1)),t[1]||(t[1]=(0,s.Lk)("p",{class:"text-gray-800 text-xl font-semibold mb-2"},"It allows users to:",-1)),(0,s.Lk)("div",Xt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.features,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"feature-item w-64 m-4 text-center",key:e.title},[(0,s.Lk)("i",{class:(0,i.C4)([e.icon,"text-5xl text-blue-600 mb-2"])},null,2),(0,s.Lk)("h3",Rt,(0,i.v_)(e.title),1),(0,s.Lk)("p",Gt,(0,i.v_)(e.description),1)])))),128))])])}const Bt={name:"AboutPage",data(){return{features:[{title:"Gene Constraint Verification",icon:"fas fa-dna"},{title:"Search for Scientific Publications",icon:"fas fa-book"},{title:"Extraction of Protein Functions",icon:"fas fa-flask"},{title:"Mouse Phenotype Verification",icon:"fas fa-mouse"},{title:"Access to GenCC and PanelApp",icon:"fas fa-database"}]}}},Nt=(0,w.A)(Bt,[["render",Ht],["__scopeId","data-v-5a35a062"]]),$t=Nt,Jt={class:"contact-page"},Zt={class:"contact py-10 px-6 text-center"},zt={class:"team-members flex flex-wrap justify-center gap-8"},Wt={class:"text-lg font-semibold text-gray-900 mb-2"},qt={class:"social-links flex justify-center space-x-4 mt-4"},Kt=["href"],Qt=["href"];function Yt(e,t,r,o,a,n){return(0,s.uX)(),(0,s.CE)("div",Jt,[(0,s.Lk)("div",Zt,[t[2]||(t[2]=(0,s.Fv)('<p class="text-lg text-gray-700 mb-10" data-v-12f11cdd> For inquiries, please contact us at: <a href="mailto:admin@pubmatcher.fr" class="text-blue-600 hover:underline font-semibold" data-v-12f11cdd> admin@pubmatcher.fr </a></p><div class="team-members flex justify-center mt-10" data-v-12f11cdd><div class="team-member bg-white shadow-lg rounded-lg p-6 w-64 text-center" data-v-12f11cdd><div class="flex justify-center mb-4" data-v-12f11cdd><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo" class="h-16 w-16" data-v-12f11cdd></div><p class="text-sm text-gray-700 mb-4" data-v-12f11cdd> Explore and contribute to the PubMatcher project on GitHub. </p><a href="https://github.com/victormar1/PubMatcher" target="_blank" class="text-white bg-blue-600 hover:bg-blue-700 py-2 px-4 rounded-lg font-medium text-lg transition duration-200" data-v-12f11cdd> Visit GitHub </a></div></div><p class="text-2xl font-bold text-gray-800 mt-12 mb-6" data-v-12f11cdd>The Team</p>',3)),(0,s.Lk)("div",zt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.teamMembers,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"team-member bg-white shadow-lg rounded-lg p-6 w-64 text-center",key:e.name},[(0,s.Lk)("h3",Wt,(0,i.v_)(e.name),1),(0,s.Lk)("div",qt,[e.linkedin?((0,s.uX)(),(0,s.CE)("a",{key:0,href:e.linkedin,target:"_blank",class:"text-gray-500 hover:text-blue-600"},t[0]||(t[0]=[(0,s.Lk)("i",{class:"fab fa-linkedin fa-2x"},null,-1)]),8,Kt)):(0,s.Q3)("",!0),e.github?((0,s.uX)(),(0,s.CE)("a",{key:1,href:e.github,target:"_blank",class:"text-gray-500 hover:text-black"},t[1]||(t[1]=[(0,s.Lk)("i",{class:"fab fa-github fa-2x"},null,-1)]),8,Qt)):(0,s.Q3)("",!0)])])))),128))])])])}const er={name:"ContactPage",data(){return{teamMembers:[{name:"Victor Marin",linkedin:"https://www.linkedin.com/in/victor-marin-033a29257/",github:"https://github.com/victormar1"},{name:"Hugo Lannes",linkedin:"https://www.linkedin.com/in/hugo-lannes/",github:"https://github.com/HugoLannes"},{name:"Victor Dumont",linkedin:"https://www.linkedin.com/in/victor-dumont-108183165/",github:"https://github.com/victorDumont"},{name:"Louis Lebreton",linkedin:"https://www.linkedin.com/in/louis-lebreton-749839197/"}]}}},tr=(0,w.A)(er,[["render",Yt],["__scopeId","data-v-12f11cdd"]]),rr=tr,or={class:"bg-white dark:bg-gray-900"},sr={class:"container flex items-center px-6 py-12 mt-24 mx-auto"},ar={class:"flex flex-col items-center max-w-sm mx-auto text-center"},nr={class:"flex items-center w-full mt-6 gap-x-3 shrink-0 sm:w-auto"};function lr(e,t,r,o,a,n){return(0,s.uX)(),(0,s.CE)("section",or,[(0,s.Lk)("div",sr,[(0,s.Lk)("div",ar,[t[2]||(t[2]=(0,s.Lk)("img",{class:"imgLogo",src:"images/pmlogo.svg",alt:""},null,-1)),t[3]||(t[3]=(0,s.Lk)("h1",{class:"mt-3 text-2xl font-semibold text-gray-800 dark:text-white md:text-3xl"}," Page not found ",-1)),t[4]||(t[4]=(0,s.Lk)("p",{class:"mt-4 text-gray-500 dark:text-gray-400"}," The page you are looking for doesn't exist. Here are some helpful links: ",-1)),(0,s.Lk)("div",nr,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.goHome&&n.goHome(...e)),class:"flex items-center justify-center w-1/2 px-5 py-2 text-sm text-gray-700 transition-colors duration-200 bg-white border rounded-lg gap-x-2 sm:w-auto dark:hover:bg-gray-800 dark:bg-gray-900 hover:bg-gray-100 dark:text-gray-200 dark:border-gray-700"},t[1]||(t[1]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 rtl:rotate-180"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),(0,s.Lk)("span",null,"Go back Home",-1)]))])])])])}const ir={name:"PageNotFound",methods:{goHome(){this.$router.push({path:"/"})}}},dr=(0,w.A)(ir,[["render",lr]]),cr=dr,ur={class:"flex flex-col items-center justify-center px-6 py-20 mx-auto"},gr={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},pr={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},hr={class:"flex justify-between items-center"},mr={key:0,class:"text-sm font-medium text-red-500 dark:text-gray-400"},fr={class:"text-sm font-light text-gray-500 dark:text-gray-400"};function br(e,t,r,a,n,l){return(0,s.uX)(),(0,s.CE)("div",ur,[(0,s.Lk)("div",gr,[(0,s.Lk)("div",pr,[t[9]||(t[9]=(0,s.Lk)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Log in to your account ",-1)),(0,s.Lk)("form",{class:"space-y-4 md:space-y-6",action:"#",onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[(0,s.Lk)("div",null,[t[5]||(t[5]=(0,s.Lk)("label",{for:"username",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Username",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.formData.username=e),type:"username",name:"username",id:"username",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Username",required:""},null,512),[[o.Jo,n.formData.username]])]),(0,s.Lk)("div",null,[t[6]||(t[6]=(0,s.Lk)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Password",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.formData.password=e),type:"password",name:"password",id:"password",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,n.formData.password]])]),(0,s.Lk)("div",hr,[(0,s.Lk)("a",{href:"#",onClick:t[2]||(t[2]=(0,o.D$)(((...e)=>l.goToForgotPassword&&l.goToForgotPassword(...e)),["prevent"])),class:"text-sm font-medium text-primary-600 hover:underline dark:text-primary-500"},"Forgot password?"),n.errorData.error?((0,s.uX)(),(0,s.CE)("p",mr,(0,i.v_)(n.errorData.error),1)):(0,s.Q3)("",!0)]),t[8]||(t[8]=(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"},"Sign in",-1)),(0,s.Lk)("p",fr,[t[7]||(t[7]=(0,s.eW)(" Donât have an account yet? ")),(0,s.Lk)("a",{href:"#",onClick:t[3]||(t[3]=(0,o.D$)(((...e)=>l.SendToRegister&&l.SendToRegister(...e)),["prevent"])),class:"font-medium text-primary-600 hover:underline dark:text-primary-500"},"Sign up")])],32)])])])}const yr={name:"LoginPage",data(){return{formData:{username:"",password:""},errorData:{error:""}}},mounted(){const e=localStorage.getItem("token");e&&this.$router.push("/account")},methods:{SendToRegister(){this.$router.push("/register")},async login(){try{const e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.formData)});if(e.ok){const t=await e.json();y(t.user.id,t.user.username,t.user.email,t.user.institute,t.user.role,t.token),this.$router.push("/account")}else{const t=await e.json();this.errorData.error=t.error||"Unknown error occurred. Please try again."}}catch(e){console.error("Error during login:",e),alert("Failed to log in. Please try again.")}},goToForgotPassword(){this.$router.push("/forgot-password")}}},kr=(0,w.A)(yr,[["render",br]]),xr=kr,wr={class:"flex flex-col items-center justify-center px-6 py-20 mx-auto"},vr={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 max-w-2xl xl:p-0 dark:bg-gray-800 dark:border-gray-700"},Lr={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},Cr={class:"flex flex-row justify-between"},Sr={class:"w-1/2 pr-2"},Er={class:"w-1/2 pl-2"},Ir={class:"flex flex-row justify-between"},Mr={class:"text-sm font-light text-gray-500 dark:text-gray-400"},_r={key:0,class:"text-sm font-medium text-red-500 dark:text-gray-400 text-right w-1/2"},Pr={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},jr={class:"bg-white rounded-lg shadow-lg w-96 p-6 text-center flex flex-col items-center justify-center"},Ar={class:"flex justify-center gap-4"};function Fr(e,t,r,a,n,l){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",wr,[(0,s.Lk)("div",vr,[(0,s.Lk)("div",Lr,[t[16]||(t[16]=(0,s.Lk)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Create an account ",-1)),(0,s.Lk)("form",{class:"space-y-4 md:space-y-6",action:"#",onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>l.createAccount&&l.createAccount(...e)),["prevent"]))},[(0,s.Lk)("div",null,[t[8]||(t[8]=(0,s.Lk)("label",{for:"username",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Username",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.formData.username=e),type:"username",name:"username",id:"username",placeholder:"Username",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,n.formData.username]])]),(0,s.Lk)("div",null,[t[9]||(t[9]=(0,s.Lk)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Password",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.formData.password=e),type:"password",name:"password",id:"password",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,n.formData.password]])]),(0,s.Lk)("div",Cr,[(0,s.Lk)("div",Sr,[t[10]||(t[10]=(0,s.Lk)("label",{for:"institute",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Institute",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.formData.institute=e),type:"institute",name:"institute",id:"institute",placeholder:"CHU bordeaux",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[o.Jo,n.formData.institute]])]),(0,s.Lk)("div",Er,[(0,s.Lk)("form",null,[t[12]||(t[12]=(0,s.Lk)("label",{for:"role",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Role/Position",-1)),(0,s.bo)((0,s.Lk)("select",{id:"role","onUpdate:modelValue":t[3]||(t[3]=e=>n.formData.role=e),class:"bg-gray-50 border outline-none focus:outline-none border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"},t[11]||(t[11]=[(0,s.Fv)('<option value="Clinical Geneticist">Clinical Geneticist</option><option value="Molecular Biologist">Molecular Biologist</option><option value="Genetic Counselor">Genetic Counselor</option><option value="Bioinformatician">Bioinformatician</option><option value="Oncologist">Oncologist</option><option value="Pediatric Geneticist">Pediatric Geneticist</option><option value="Reproductive Specialist">Reproductive Specialist</option><option value="Pharmacogeneticist">Pharmacogeneticist</option><option value="Laboratory Technician">Laboratory Technician</option><option value="Medical Research Scientist">Medical Research Scientist</option>',10)]),512),[[o.u1,n.formData.role]])])])]),(0,s.Lk)("div",null,[t[13]||(t[13]=(0,s.Lk)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.formData.email=e),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@chu-bordeaux.com"},null,512),[[o.Jo,n.formData.email]])]),t[15]||(t[15]=(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"},"Create an account",-1)),(0,s.Lk)("div",Ir,[(0,s.Lk)("p",Mr,[t[14]||(t[14]=(0,s.eW)(" Already have an account? ")),(0,s.Lk)("a",{href:"#",onClick:t[5]||(t[5]=(...t)=>e.SendToLogin&&e.SendToLogin(...t)),class:"font-medium text-primary-600 hover:underline dark:text-primary-500"},"Login here")]),n.errorData.error?((0,s.uX)(),(0,s.CE)("p",_r,(0,i.v_)(n.errorData.error),1)):(0,s.Q3)("",!0)])],32)])])]),n.loginSuccess?((0,s.uX)(),(0,s.CE)("div",Pr,[(0,s.Lk)("div",jr,[t[17]||(t[17]=(0,s.Lk)("svg",{class:"size-12 text-green-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),t[18]||(t[18]=(0,s.Lk)("p",{class:"text-gray-600 mb-6 mt-4"},"Your account has been successfully created.",-1)),(0,s.Lk)("div",Ar,[(0,s.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.confirm&&l.confirm(...e)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none"}," Log In ")])])])):(0,s.Q3)("",!0)],64)}const Tr={name:"RegisterPage",data(){return{formData:{username:"",password:"",institute:"",email:"",role:"Clinical Geneticist"},errorData:{error:""},loginSuccess:!1}},methods:{async createAccount(){try{const e=await fetch("api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.formData)});if(e.ok)(0,N.f0)("account_created",{event_category:"user_interaction",event_label:"account_created",debug_mode:!0}),this.showLogInSuccessModal();else{const t=await e.json();this.errorData.error=t.error||"Unknown error occurred. Please try again."}}catch(e){console.error(e),alert("Failed to create account. Please try again.")}},showLogInSuccessModal(){this.loginSuccess=!0},confirm(){this.loginSuccess=!1,this.$router.push("/login")},cancel(){this.loginSuccess=!1}}},Or=(0,w.A)(Tr,[["render",Fr]]),Dr=Or,Vr={class:"bg-white py-8 antialiased dark:bg-gray-900 md:py-8"},Ur={class:"mx-auto max-w-screen-lg px-4 2xl:px-0"},Xr={class:"py-4 md:py-8"},Rr={class:"mb-4 grid gap-4 sm:grid-cols-2 sm:gap-8 lg:gap-16"},Gr={class:"space-y-4"},Hr={class:"flex space-x-4 items-center"},Br={class:"text-xl font-bold leading-none text-gray-900 dark:text-white sm:text-2xl"},Nr={class:"text-gray-500 dark:text-gray-400"},$r={class:"space-y-4"},Jr={class:"text-gray-500 dark:text-gray-400"},Zr={class:"text-gray-500 dark:text-gray-400"},zr={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800 md:p-8 shadow-sm"},Wr={class:"overflow-auto max-h-96"},qr={key:0},Kr=["onClick"],Qr=["href"],Yr={class:"space-x-2"},eo={class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-blue-300 rounded-md dark:bg-gray-600"},to={class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-red-300 rounded-md dark:bg-gray-600"},ro={class:"mt-2 p-4 text-gray-500 bg-gray-50 border border-gray-200 rounded-lg dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"},oo={class:"flex flex-wrap gap-2"},so={class:"mt-4"},ao={class:"flex flex-wrap gap-2"},no={key:1,class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-red-300 rounded-md dark:bg-gray-600"},lo={key:1},io={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},co={class:"bg-white rounded-lg shadow-lg w-96 p-6 text-center"},uo={class:"flex justify-center gap-4"};function go(e,t,r,a,n,l){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("section",Vr,[(0,s.Lk)("div",null,[n.isScrolled?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>l.scrollToTop&&l.scrollToTop(...e)),class:"fixed bottom-20 right-1 p-3 z-50 bg-gray-800 text-white rounded-full hover:bg-gray-600"},t[4]||(t[4]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"})],-1)]))):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Ur,[(0,s.Lk)("div",Xr,[(0,s.Lk)("div",Rr,[(0,s.Lk)("div",Gr,[(0,s.Lk)("div",Hr,[t[5]||(t[5]=(0,s.Lk)("img",{class:"h-16 w-16 rounded-lg",src:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png?20150327203541",alt:"Helene avatar"},null,-1)),(0,s.Lk)("div",null,[(0,s.Lk)("h2",Br,(0,i.v_)(l.username),1)])]),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.showLogoutModal&&l.showLogoutModal(...e)),class:"w-30 text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"}," Logout "),(0,s.Lk)("dl",null,[t[6]||(t[6]=(0,s.Lk)("dt",{class:"font-semibold text-gray-900 dark:text-white"},"Email Address",-1)),(0,s.Lk)("dd",Nr,(0,i.v_)(l.email),1)])]),(0,s.Lk)("div",$r,[(0,s.Lk)("dl",null,[t[7]||(t[7]=(0,s.Lk)("dt",{class:"font-semibold text-gray-900 dark:text-white"},"Institute",-1)),(0,s.Lk)("dd",Jr,(0,i.v_)(l.institute),1)]),(0,s.Lk)("dl",null,[t[8]||(t[8]=(0,s.Lk)("dt",{class:"mb-1 font-semibold text-gray-900 dark:text-white"},"Role/Position",-1)),(0,s.Lk)("dd",Zr,(0,i.v_)(l.role),1)])])])]),(0,s.Lk)("div",zr,[t[12]||(t[12]=(0,s.Lk)("h3",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Research History",-1)),(0,s.Lk)("div",Wr,[n.history.length?((0,s.uX)(),(0,s.CE)("ul",qr,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.history,((e,r)=>((0,s.uX)(),(0,s.CE)("li",{key:r,class:"mb-4"},[(0,s.Lk)("button",{onClick:e=>l.toggleAccordion(r),class:"flex w-full items-center justify-between p-4 font-medium text-gray-500 rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-gray-400 focus:outline-none"},[(0,s.Lk)("span",null,[(0,s.Lk)("a",{href:`/search?genes=${e.genes.split(",").join(",")}&phenotypes=${e.phenotypes.split(",").join(",")}`,class:"text-blue-600 hover:underline"},(0,i.v_)(l.formatDate(e.timestamp)),9,Qr)]),(0,s.Lk)("div",Yr,[(0,s.Lk)("span",eo,(0,i.v_)(e.genes.split(",").length)+" Genes ",1),(0,s.Lk)("span",to,(0,i.v_)(e.phenotypes?e.phenotypes.split(",").length:0)+" Phenotypes ",1)]),((0,s.uX)(),(0,s.CE)("svg",{class:(0,i.C4)([{"rotate-180":n.accordionState[r]},"w-4 h-4 transition-transform"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[9]||(t[9]=[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],8,Kr),(0,s.bo)((0,s.Lk)("div",ro,[(0,s.Lk)("div",null,[t[10]||(t[10]=(0,s.Lk)("p",{class:"mb-2 font-semibold"},[(0,s.Lk)("strong",null,"Genes:")],-1)),(0,s.Lk)("div",oo,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.genes.split(","),((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t,class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-blue-300 rounded-md dark:bg-blue-600"},(0,i.v_)(e),1)))),128))])]),(0,s.Lk)("div",so,[t[11]||(t[11]=(0,s.Lk)("p",{class:"mb-2 font-semibold"},[(0,s.Lk)("strong",null,"Phenotypes:")],-1)),(0,s.Lk)("div",ao,[e.phenotypes?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:0},(0,s.pI)(e.phenotypes.split(","),((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t,class:"inline-block px-3 py-1 text-sm font-medium text-gray-500 bg-red-300 rounded-md dark:bg-green-600"},(0,i.v_)(e),1)))),128)):((0,s.uX)(),(0,s.CE)("span",no," No phenotypes "))])])],512),[[o.aG,n.accordionState[r]]])])))),128))])):((0,s.uX)(),(0,s.CE)("p",lo,"No history found."))])])])]),n.logoutModalVisible?((0,s.uX)(),(0,s.CE)("div",io,[(0,s.Lk)("div",co,[t[13]||(t[13]=(0,s.Lk)("h2",{class:"text-xl font-bold mb-4"},"Are you sure?",-1)),t[14]||(t[14]=(0,s.Lk)("p",{class:"text-gray-600 mb-6"},"You'll be logged out.",-1)),(0,s.Lk)("div",uo,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.confirm&&l.confirm(...e)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none"}," Yes, I'm Sure "),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>l.cancel&&l.cancel(...e)),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none"}," Cancel ")])])])):(0,s.Q3)("",!0)],64)}const po={name:"AccountPage",data(){return{logoutModalVisible:!1,history:[],accordionState:[],isScrolled:!1}},async mounted(){await this.fetchUserHistory(),window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},computed:{username(){return b.username},email(){return b.email},institute(){return b.institute},role(){return b.role}},methods:{showLogoutModal(){this.logoutModalVisible=!0},confirm(){this.logoutModalVisible=!1,k(),this.$router.push("/login")},cancel(){this.logoutModalVisible=!1},async fetchUserHistory(){try{const e=await fetch("api/getuserhistory",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();this.history=t.history,this.accordionState=Array(t.history.length).fill(!1)}catch(e){console.error("Error fetching user history:",e)}},toggleAccordion(e){this.accordionState[e]=!this.accordionState[e]},formatDate(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"}).format(t)},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){this.isScrolled=window.scrollY>500}}},ho=(0,w.A)(po,[["render",go]]),mo=ho,fo={class:"flex flex-col items-center justify-center px-6 py-20 mx-auto"},bo={class:"w-full bg-white rounded-lg shadow dark:border sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},yo={class:"p-6 space-y-4 sm:p-8"},ko={key:0,class:"text-sm font-light text-gray-500 dark:text-gray-400"};function xo(e,t,r,a,n,l){return(0,s.uX)(),(0,s.CE)("div",fo,[(0,s.Lk)("div",bo,[(0,s.Lk)("div",yo,[t[4]||(t[4]=(0,s.Lk)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Forgot Password ",-1)),(0,s.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)(((...e)=>l.sendResetEmail&&l.sendResetEmail(...e)),["prevent"])),class:"space-y-4"},[(0,s.Lk)("div",null,[t[2]||(t[2]=(0,s.Lk)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Enter your email ",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),type:"email",id:"email",placeholder:"example@domain.com",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,n.email]])]),t[3]||(t[3]=(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"}," Send Reset Email ",-1)),n.message?((0,s.uX)(),(0,s.CE)("p",ko,(0,i.v_)(n.message),1)):(0,s.Q3)("",!0)],32)])])])}const wo={name:"ForgotPasswordPage",data(){return{email:"",message:""}},methods:{async sendResetEmail(){try{const e=await fetch("/api/sendPwResetMail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email})});if(e.ok)this.message="Reset email sent! Please check your inbox.";else{const t=await e.json();this.message=t.error||"Error sending reset email."}}catch(e){console.error("Error sending reset email:",e),this.message="Failed to send reset email. Please try again."}}}},vo=(0,w.A)(wo,[["render",xo]]),Lo=vo,Co={class:"flex flex-col items-center justify-center px-6 py-20 mx-auto"},So={class:"w-full bg-white rounded-lg shadow dark:border sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},Eo={class:"p-6 space-y-4 sm:p-8"},Io={key:0,class:"text-sm font-light text-gray-500 dark:text-gray-400"};function Mo(e,t,r,a,n,l){return(0,s.uX)(),(0,s.CE)("div",Co,[(0,s.Lk)("div",So,[(0,s.Lk)("div",Eo,[t[6]||(t[6]=(0,s.Lk)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Reset Password ",-1)),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>l.resetPassword&&l.resetPassword(...e)),["prevent"])),class:"space-y-4"},[(0,s.Lk)("div",null,[t[3]||(t[3]=(0,s.Lk)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," New Password ",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.password=e),type:"password",id:"password",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,n.password]])]),(0,s.Lk)("div",null,[t[4]||(t[4]=(0,s.Lk)("label",{for:"confirmPassword",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Confirm Password ",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.confirmPassword=e),type:"password",id:"confirmPassword",placeholder:"â¢â¢â¢â¢â¢â¢â¢â¢",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[o.Jo,n.confirmPassword]])]),t[5]||(t[5]=(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-red-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"}," Reset Password ",-1)),n.message?((0,s.uX)(),(0,s.CE)("p",Io,(0,i.v_)(n.message),1)):(0,s.Q3)("",!0)],32)])])])}const _o={props:["token"],data(){return{password:"",confirmPassword:"",message:""}},methods:{async resetPassword(){if(this.password===this.confirmPassword)try{const e=await fetch("/api/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token,password:this.password})});if(e.ok)this.message="Password reset successfully! Redirecting to login...",setTimeout((()=>this.$router.push("/login")),3e3);else{const t=await e.json();this.message=t.error||"An error occurred while resetting your password."}}catch(e){console.error("Error resetting password:",e),this.message="An error occurred. Please try again."}else this.message="Passwords do not match."}}},Po=(0,w.A)(_o,[["render",Mo]]),jo=Po;function Ao(){const e=localStorage.getItem("token");return!!e}const Fo=[{path:"/",component:Vt},{path:"/about",component:$t},{path:"/contact",component:rr},{path:"/search",component:Tt,props:e=>({genes:e.query.genes?e.query.genes.split(","):[],phenotypes:e.query.phenotypes?e.query.phenotypes.split(","):[]})},{path:"/login",component:xr},{path:"/register",component:Dr},{path:"/account",component:mo,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",component:cr},{path:"/forgot-password",component:Lo},{path:"/reset-password:token",component:jo,props:!0}],To=(0,re.aE)({history:(0,re.LA)(),routes:Fo});To.beforeEach(((e,t,r)=>{if(e.meta.requiresAuth&&!Ao())return r("/login");r()}));const Oo=To;var Do=r(241);(0,o.Ef)(te).use(Oo).use(N.Ay,{config:{id:"G-PGNGTTRTN2"},debug_mode:!0},Oo).use(Do.Ay).mount("#app")}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.m=e,(()=>{var e=[];r.O=(t,o,s,a)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,s,a]=e[c],l=!0,i=0;i<o.length;i++)(!1&a||n>=a)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(l=!1,a<n&&(n=a));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,s,a]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var s,a,[n,l,i]=o,d=0;if(n.some((t=>0!==e[t]))){for(s in l)r.o(l,s)&&(r.m[s]=l[s]);if(i)var c=i(r)}for(t&&t(o);d<n.length;d++)a=n[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},o=self["webpackChunkpubmed_search"]=self["webpackChunkpubmed_search"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=r.O(void 0,[504],(()=>r(560)));o=r.O(o)})();
//# sourceMappingURL=app.ca0284ec.js.map